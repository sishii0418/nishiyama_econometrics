<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>第6章 パネルデータ分析 | 西山ほか (2019)『計量経済学』有斐閣の練習問題解答とRでの再現</title>
  <meta name="description" content="第6章 パネルデータ分析 | 西山ほか (2019)『計量経済学』有斐閣の練習問題解答とRでの再現." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="第6章 パネルデータ分析 | 西山ほか (2019)『計量経済学』有斐閣の練習問題解答とRでの再現" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="第6章 パネルデータ分析 | 西山ほか (2019)『計量経済学』有斐閣の練習問題解答とRでの再現." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="第6章 パネルデータ分析 | 西山ほか (2019)『計量経済学』有斐閣の練習問題解答とRでの再現" />
  
  <meta name="twitter:description" content="第6章 パネルデータ分析 | 西山ほか (2019)『計量経済学』有斐閣の練習問題解答とRでの再現." />
  

<meta name="author" content="石井 俊輔" />


<meta name="date" content="2024-05-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ch5.html"/>
<link rel="next" href="ch7.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8R0S76ZD8E"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8R0S76ZD8E');
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
    Macros: {
      P: "{\\text{P}}",
      E: "{\\text{E}}",
      Var: "{\\text{Var}}",
      Cov: "{\\text{Cov}}",
      sumN: ["{\\sum_{#1=0}^N}", 1]
    }
  }
});
</script>



<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">西山ほか(2019)『計量経済学』有斐閣の練習問題解答とRでの再現</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>はじめに</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#方針"><i class="fa fa-check"></i>方針</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#似たようなサイト"><i class="fa fa-check"></i>似たようなサイト</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html"><i class="fa fa-check"></i>第2章 データの整理と確率変数の基礎</a>
<ul>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#練習問題-2-1-確認"><i class="fa fa-check"></i>練習問題 2-1 [確認]</a></li>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#練習問題-2-2-確認"><i class="fa fa-check"></i>練習問題 2-2 [確認]</a></li>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#練習問題-2-3-確認"><i class="fa fa-check"></i>練習問題 2-3 [確認]</a></li>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#練習問題-2-4-確認"><i class="fa fa-check"></i>練習問題 2-4 [確認]</a></li>
<li class="chapter" data-level="" data-path="ch2.html"><a href="ch2.html#練習問題-2-5-確認"><i class="fa fa-check"></i>練習問題 2-5 [確認]</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch3.html"><a href="ch3.html"><i class="fa fa-check"></i>第3章 統計理論の基礎</a>
<ul>
<li class="chapter" data-level="" data-path="ch3.html"><a href="ch3.html#練習問題-3-2-確認"><i class="fa fa-check"></i>練習問題 3-2 [確認]</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html"><i class="fa fa-check"></i>第4章 線形単回帰モデルの推定と検定</a>
<ul>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#実証例4.1-労働生産性と実質賃金の関係"><i class="fa fa-check"></i>実証例4.1 労働生産性と実質賃金の関係</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#図4-1-時間当たり実質賃金と労働生産性"><i class="fa fa-check"></i>図4-1 時間当たり実質賃金と労働生産性</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#練習問題-4-2-実証"><i class="fa fa-check"></i>練習問題 4-2 [実証]</a></li>
<li class="chapter" data-level="" data-path="ch4.html"><a href="ch4.html#練習問題-4-10-実証"><i class="fa fa-check"></i>練習問題 4-10 [実証]</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html"><i class="fa fa-check"></i>第5章 重回帰モデルの推定と検定</a>
<ul>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#単回帰-5.1-5.2"><i class="fa fa-check"></i>単回帰 (5.1), (5.2)</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#ex5.1"><i class="fa fa-check"></i>実証例5.1 信頼と規範が経済成長に与える影響の重回帰分析</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#実証例5.2-fwl定理の確認"><i class="fa fa-check"></i>実証例5.2 FWL定理の確認</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#実証例5.3-fwl定理の別表現の確認"><i class="fa fa-check"></i>実証例5.3 FWL定理の別表現の確認</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#実証例5.4-信頼と規範が経済成長に与える影響の重回帰分析の標準誤差"><i class="fa fa-check"></i>実証例5.4 信頼と規範が経済成長に与える影響の重回帰分析の標準誤差</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#ex5.5"><i class="fa fa-check"></i>実証例5.5 信頼と規範が経済成長に与える影響の多項式モデル</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#図5-1-散布図と推定された回帰曲線"><i class="fa fa-check"></i>図5-1 散布図と推定された回帰曲線</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#例題5.5"><i class="fa fa-check"></i>例題5.5</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#実証例5.6-都市化の度合いと初期時点gdpの交互作用"><i class="fa fa-check"></i>実証例5.6 都市化の度合いと初期時点GDPの交互作用</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#実証例5.7-都市化の度合いと初期時点gdpのダミー変数同士の交互作用"><i class="fa fa-check"></i>実証例5.7 都市化の度合いと初期時点GDPのダミー変数同士の交互作用</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#実証例5.8-非線形モデルにおける結合仮説の検定"><i class="fa fa-check"></i>実証例5.8 非線形モデルにおける結合仮説の検定</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#実証例5.9-ポンフェローニ検定"><i class="fa fa-check"></i>実証例5.9 ポンフェローニ検定</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#table5-5"><i class="fa fa-check"></i>表5-5 記述統計量</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#table5-6"><i class="fa fa-check"></i>表5-6 推定結果: 被説明変数は経済成長率</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#表5-7-推定結果"><i class="fa fa-check"></i>表5-7 推定結果</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#練習問題-5-14-実証"><i class="fa fa-check"></i>練習問題 5-14 [実証]</a></li>
<li class="chapter" data-level="" data-path="ch5.html"><a href="ch5.html#練習問題-5-15-実証"><i class="fa fa-check"></i>練習問題 5-15 [実証]</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html"><i class="fa fa-check"></i>第6章 パネルデータ分析</a>
<ul>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#exp6.1"><i class="fa fa-check"></i>(6.1) 式</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#ex6.1"><i class="fa fa-check"></i>実証例6.1 保育所が母親の就業に与え影響の固定効果推定</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#実証例6.2-保育所が母親の就業に与える影響の固定効果推定の標準誤差"><i class="fa fa-check"></i>実証例6.2 保育所が母親の就業に与える影響の固定効果推定の標準誤差</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#実証例6.3-保育所が母親の就業に与え影響のプールされたols推定の標準誤差"><i class="fa fa-check"></i>実証例6.3 保育所が母親の就業に与え影響のプールされたOLS推定の標準誤差</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#実証例6.4-保育所が母親の就業に与える影響の時間効果を入れた分析"><i class="fa fa-check"></i>実証例6.4 保育所が母親の就業に与える影響の時間効果を入れた分析</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#実証例6.5-保育所が母親の就業に与える影響の都道府県効果と年効果を入れた分析"><i class="fa fa-check"></i>実証例6.5 保育所が母親の就業に与える影響の都道府県効果と年効果を入れた分析</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#実証例6.6-保育所が母親の就業に与える影響の個別トレンドと年効果を入れた分析"><i class="fa fa-check"></i>実証例6.6 保育所が母親の就業に与える影響の個別トレンドと年効果を入れた分析</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#table6-3"><i class="fa fa-check"></i>表6-3 記述統計量</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#表6-4-年ごとの記述統計量"><i class="fa fa-check"></i>表6-4 年ごとの記述統計量</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#table6-5"><i class="fa fa-check"></i>表6-5 推定結果</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#練習問題-6-10-実証"><i class="fa fa-check"></i>練習問題 6-10 [実証]</a></li>
<li class="chapter" data-level="" data-path="ch6.html"><a href="ch6.html#練習問題-6-11-実証"><i class="fa fa-check"></i>練習問題 6-11 [実証]</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html"><i class="fa fa-check"></i>第7章 操作変数法</a>
<ul>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html#ex7.1"><i class="fa fa-check"></i>実証例7.1 単回帰モデルの操作変数推定</a></li>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html#実証例7.2-操作変数推定量の標準誤差"><i class="fa fa-check"></i>実証例7.2 操作変数推定量の標準誤差</a></li>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html#実証例7.3-19世紀プロイセンのデータの外生性を含めた2sls推定による分析"><i class="fa fa-check"></i>実証例7.3 19世紀プロイセンのデータの外生性を含めた2SLS推定による分析</a></li>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html#実証例7.4-操作変数の強さの判定"><i class="fa fa-check"></i>実証例7.4 操作変数の強さの判定</a></li>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html#実証例7.5-操作変数の外生性の検定"><i class="fa fa-check"></i>実証例7.5 操作変数の外生性の検定</a></li>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html#表7-2-記述統計量"><i class="fa fa-check"></i>表7-2 記述統計量</a></li>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html#table7-3"><i class="fa fa-check"></i>表7-3 推定結果</a></li>
<li class="chapter" data-level="" data-path="ch7.html"><a href="ch7.html#練習問題-7-13-実証"><i class="fa fa-check"></i>練習問題 7-13 [実証]</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch8.html"><a href="ch8.html"><i class="fa fa-check"></i>第8章 制限従属変数モデル</a>
<ul>
<li class="chapter" data-level="" data-path="ch8.html"><a href="ch8.html#実証例8.1-piaacを用いた女性の就業選択の実証例"><i class="fa fa-check"></i>実証例8.1 PIAACを用いた女性の就業選択の実証例</a></li>
<li class="chapter" data-level="" data-path="ch8.html"><a href="ch8.html#table8-1"><i class="fa fa-check"></i>表8-1 女性の就業決定</a></li>
<li class="chapter" data-level="" data-path="ch8.html"><a href="ch8.html#実証例8.2-piaacを用いた仕事満足度の決定要因の分析"><i class="fa fa-check"></i>実証例8.2 PIAACを用いた仕事満足度の決定要因の分析</a></li>
<li class="chapter" data-level="" data-path="ch8.html"><a href="ch8.html#実証例8.3-piaacを用いた就業形態決定要因の分析"><i class="fa fa-check"></i>実証例8.3 PIAACを用いた就業形態決定要因の分析</a></li>
<li class="chapter" data-level="" data-path="ch8.html"><a href="ch8.html#実証例8.4-piaacを用いた女性の労働時間決定の分析"><i class="fa fa-check"></i>実証例8.4 PIAACを用いた女性の労働時間決定の分析</a></li>
<li class="chapter" data-level="" data-path="ch8.html"><a href="ch8.html#ex8.5"><i class="fa fa-check"></i>実証例8.5 PIAACを用いた女性賃金の決定要因の分析</a></li>
<li class="chapter" data-level="" data-path="ch8.html"><a href="ch8.html#練習問題-8-4-実証"><i class="fa fa-check"></i>練習問題 8-4 [実証]</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch9.html"><a href="ch9.html"><i class="fa fa-check"></i>第9章 政策評価モデル</a>
<ul>
<li class="chapter" data-level="" data-path="ch9.html"><a href="ch9.html#figure9-5"><i class="fa fa-check"></i>図9-5 電子投票制度の導入が有効票率に与えた影響</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html"><i class="fa fa-check"></i>第10章 系列相関と時系列モデル</a>
<ul>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#figure10-1"><i class="fa fa-check"></i>図10-1 名目GDP</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-2-gdpデフレーター"><i class="fa fa-check"></i>図10-2 GDPデフレーター</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-3-名目系列と実質系列"><i class="fa fa-check"></i>図10-3 名目系列と実質系列</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-4-原系列と対数系列"><i class="fa fa-check"></i>図10-4 原系列と対数系列</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-5-gdpギャップ-年次データ"><i class="fa fa-check"></i>図10-5 GDPギャップ (年次データ)</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-6-実質gdp成長率"><i class="fa fa-check"></i>図10-6 実質GDP成長率</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-7-実質gdp-公表季調値"><i class="fa fa-check"></i>図10-7 実質GDP (公表季調値)</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-8-季調済みgdpデフレーターのインフレ率"><i class="fa fa-check"></i>図10-8 季調済みGDPデフレーターのインフレ率</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-9-消費者物価指数の-対数季節階差-インフレ率"><i class="fa fa-check"></i>図10-9 消費者物価指数の (対数季節階差) インフレ率</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-10-完全失業率-移動平均"><i class="fa fa-check"></i>図10-10 完全失業率 (移動平均)</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#figure10-11"><i class="fa fa-check"></i>図10-11 実験系列</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#figure10-12"><i class="fa fa-check"></i>図10-12 GDPギャップ (四半期データ)</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#exp10.12"><i class="fa fa-check"></i>(10.12) 式</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#式"><i class="fa fa-check"></i>(10.13) 式</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-14-gdpギャップのコレログラム"><i class="fa fa-check"></i>図10-14 GDPギャップのコレログラム</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#ex10.1"><i class="fa fa-check"></i>実証例10.1 GDPギャップの系列相関</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#実証例10.2-ホワイトノイズの系列相関"><i class="fa fa-check"></i>実証例10.2 ホワイトノイズの系列相関</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#図10-15-実験系列-ホワイトノイズ-のコレログラム"><i class="fa fa-check"></i>図10-15 実験系列 (ホワイトノイズ) のコレログラム</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#実証例10.3-フィリップス曲線の誤差項の系列相関"><i class="fa fa-check"></i>実証例10.3 フィリップス曲線の誤差項の系列相関</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#ex10.4"><i class="fa fa-check"></i>実証例10.4 フィリップス曲線のHAC標準誤差</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#実証例10.5-gdpギャップのarモデルのラグ選択"><i class="fa fa-check"></i>実証例10.5 GDPギャップのARモデルのラグ選択</a></li>
<li class="chapter" data-level="" data-path="ch10.html"><a href="ch10.html#実証例10.6-ラグ付きインフレ率を含むフィリップス曲線の推定と誤差項の系列相関の検定"><i class="fa fa-check"></i>実証例10.6 ラグ付きインフレ率を含むフィリップス曲線の推定と誤差項の系列相関の検定</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch11.html"><a href="ch11.html"><i class="fa fa-check"></i>第11章 トレンドと構造変化</a></li>
<li class="chapter" data-level="" data-path="ch12.html"><a href="ch12.html"><i class="fa fa-check"></i>第12章 VARモデル</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">西山ほか (2019)『計量経済学』有斐閣の練習問題解答とRでの再現</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ch6" class="section level1 unnumbered hasAnchor">
<h1>第6章 パネルデータ分析<a href="ch6.html#ch6" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>先に<a href="https://www.yuhikaku.co.jp/books/detail/9784641053854">出版社サイト</a>よりデータをダウンロードする.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="ch6.html#cb44-1" tabindex="-1"></a><span class="co"># サポートファイルへのリンク</span></span>
<span id="cb44-2"><a href="ch6.html#cb44-2" tabindex="-1"></a>curl <span class="ot">&lt;-</span> <span class="st">&quot;https://www.yuhikaku.co.jp/static_files/05385_support06.zip&quot;</span></span>
<span id="cb44-3"><a href="ch6.html#cb44-3" tabindex="-1"></a><span class="co"># ダウンロード保存用フォルダが存在しない場合, 作成</span></span>
<span id="cb44-4"><a href="ch6.html#cb44-4" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(<span class="st">&quot;downloads&quot;</span>)){</span>
<span id="cb44-5"><a href="ch6.html#cb44-5" tabindex="-1"></a>    <span class="fu">dir.create</span>(<span class="st">&quot;downloads&quot;</span>)</span>
<span id="cb44-6"><a href="ch6.html#cb44-6" tabindex="-1"></a>}</span>
<span id="cb44-7"><a href="ch6.html#cb44-7" tabindex="-1"></a>cdestfile <span class="ot">&lt;-</span> <span class="st">&quot;downloads/support06.zip&quot;</span></span>
<span id="cb44-8"><a href="ch6.html#cb44-8" tabindex="-1"></a><span class="fu">download.file</span>(curl, cdestfile)</span>
<span id="cb44-9"><a href="ch6.html#cb44-9" tabindex="-1"></a><span class="co"># データ保存用フォルダが存在しない場合, 作成</span></span>
<span id="cb44-10"><a href="ch6.html#cb44-10" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(<span class="st">&quot;data&quot;</span>)){</span>
<span id="cb44-11"><a href="ch6.html#cb44-11" tabindex="-1"></a>    <span class="fu">dir.create</span>(<span class="st">&quot;data&quot;</span>)</span>
<span id="cb44-12"><a href="ch6.html#cb44-12" tabindex="-1"></a>}</span>
<span id="cb44-13"><a href="ch6.html#cb44-13" tabindex="-1"></a><span class="co"># WSL上のRで解凍すると文字化けするので、Linuxのコマンドを外部呼び出し</span></span>
<span id="cb44-14"><a href="ch6.html#cb44-14" tabindex="-1"></a><span class="co"># Windowsの場合は別途コマンドを用いる.</span></span>
<span id="cb44-15"><a href="ch6.html#cb44-15" tabindex="-1"></a><span class="cf">if</span>(.Platform<span class="sc">$</span>OS.type <span class="sc">==</span> <span class="st">&quot;unix&quot;</span>) {</span>
<span id="cb44-16"><a href="ch6.html#cb44-16" tabindex="-1"></a>    <span class="fu">system</span>(<span class="fu">sprintf</span>(<span class="st">&#39;unzip -n -Ocp932 %s -d %s&#39;</span>, <span class="st">&quot;downloads/support06.zip&quot;</span>, <span class="st">&quot;./data&quot;</span>))</span>
<span id="cb44-17"><a href="ch6.html#cb44-17" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb44-18"><a href="ch6.html#cb44-18" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;Windowsで解凍するコマンドを別途追加せよ.&quot;</span>)</span>
<span id="cb44-19"><a href="ch6.html#cb44-19" tabindex="-1"></a>}</span></code></pre></div>
<p>必要なライブラリを読み込む.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="ch6.html#cb45-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb45-2"><a href="ch6.html#cb45-2" tabindex="-1"></a><span class="fu">library</span>(estimatr)</span>
<span id="cb45-3"><a href="ch6.html#cb45-3" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb45-4"><a href="ch6.html#cb45-4" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb45-5"><a href="ch6.html#cb45-5" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb45-6"><a href="ch6.html#cb45-6" tabindex="-1"></a><span class="fu">library</span>(haven)</span></code></pre></div>
<p>固定効果モデルをRで推定するためのパッケージは複数あり, これまで使ってきた<code>estimatr</code>のほかに<code>fixest</code>や<code>plm</code>などが挙げられる.
ここでは<code>estimatr</code>に加えて, 処理が高速とされる<code>fixest</code>での推定方法も記す.</p>
<div id="exp6.1" class="section level2 unnumbered hasAnchor">
<h2>(6.1) 式<a href="ch6.html#exp6.1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>はじめにデータを読み込む.
データ読込時, 本文中で分析されている通りに絞り込みを行う.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="ch6.html#cb46-1" tabindex="-1"></a>yamaguchi <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/06_第6章/yamaguchi.csv&quot;</span>)</span>
<span id="cb46-2"><a href="ch6.html#cb46-2" tabindex="-1"></a>yamaguchi <span class="ot">&lt;-</span> yamaguchi <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="ch6.html#cb46-3" tabindex="-1"></a>                <span class="fu">filter</span>(year <span class="sc">&gt;</span> <span class="dv">1999</span>) <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="ch6.html#cb46-4" tabindex="-1"></a>                <span class="fu">filter</span>(hh.type <span class="sc">==</span> <span class="st">&quot;all&quot;</span>)</span></code></pre></div>
<p>通常通り<code>estimatr::lm_robust()</code>で不均一分散を仮定して回帰するか, <code>feols()</code>を用いることもできる.
<code>feols()</code>では<code>vcov = "HC1"</code>と指定することでStataと同じ標準偏差を得られる.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="ch6.html#cb47-1" tabindex="-1"></a><span class="fu">lm_robust</span>(emp.rate <span class="sc">~</span> cap.rate, <span class="at">data =</span> yamaguchi, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>)</span>
<span id="cb47-2"><a href="ch6.html#cb47-2" tabindex="-1"></a><span class="do">##              Estimate Std. Error  t value     Pr(&gt;|t|)  CI Lower  CI Upper  DF</span></span>
<span id="cb47-3"><a href="ch6.html#cb47-3" tabindex="-1"></a><span class="do">## (Intercept) 0.2081492 0.01814393 11.47212 7.493392e-22 0.1722755 0.2440230 139</span></span>
<span id="cb47-4"><a href="ch6.html#cb47-4" tabindex="-1"></a><span class="do">## cap.rate    0.6154919 0.04391207 14.01646 2.244232e-28 0.5286699 0.7023139 139</span></span>
<span id="cb47-5"><a href="ch6.html#cb47-5" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate, <span class="at">vcov =</span> <span class="st">&quot;HC1&quot;</span>, <span class="at">data =</span> yamaguchi)</span>
<span id="cb47-6"><a href="ch6.html#cb47-6" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: emp.rate</span></span>
<span id="cb47-7"><a href="ch6.html#cb47-7" tabindex="-1"></a><span class="do">## Observations: 141</span></span>
<span id="cb47-8"><a href="ch6.html#cb47-8" tabindex="-1"></a><span class="do">## Standard-errors: Heteroskedasticity-robust </span></span>
<span id="cb47-9"><a href="ch6.html#cb47-9" tabindex="-1"></a><span class="do">##             Estimate Std. Error t value  Pr(&gt;|t|)    </span></span>
<span id="cb47-10"><a href="ch6.html#cb47-10" tabindex="-1"></a><span class="do">## (Intercept) 0.208149   0.018144 11.4721 &lt; 2.2e-16 ***</span></span>
<span id="cb47-11"><a href="ch6.html#cb47-11" tabindex="-1"></a><span class="do">## cap.rate    0.615492   0.043912 14.0165 &lt; 2.2e-16 ***</span></span>
<span id="cb47-12"><a href="ch6.html#cb47-12" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb47-13"><a href="ch6.html#cb47-13" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb47-14"><a href="ch6.html#cb47-14" tabindex="-1"></a><span class="do">## RMSE: 0.066148   Adj. R2: 0.530204</span></span></code></pre></div>
</div>
<div id="ex6.1" class="section level2 unnumbered hasAnchor">
<h2>実証例6.1 保育所が母親の就業に与え影響の固定効果推定<a href="ch6.html#ex6.1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>固定効果モデルも<code>lm_robust()</code>で推定できる. <code>clusters</code>引数にクラスタのレベル, <code>fixed_effects</code>に固定効果の変数を指定する.
<code>feols</code>ではパイプ<code>|</code>の後ろに固定効果の変数を指定するのが本来の方法で, デフォルトでクラスター構造に頑健な標準誤差が得られるはずだが, なぜか異なる値となった. ご存じの方ご教授ください.
かわりに固定効果の変数とする<code>pref</code>を直接<code>formula</code>に足すことで, Stataと同じ標準誤差を得られた.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="ch6.html#cb48-1" tabindex="-1"></a><span class="fu">lm_robust</span>(emp.rate <span class="sc">~</span> cap.rate, <span class="at">data =</span> yamaguchi, <span class="at">clusters =</span> pref, <span class="at">fixed_effects =</span> pref, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>)</span>
<span id="cb48-2"><a href="ch6.html#cb48-2" tabindex="-1"></a><span class="do">##           Estimate Std. Error  t value     Pr(&gt;|t|)  CI Lower  CI Upper DF</span></span>
<span id="cb48-3"><a href="ch6.html#cb48-3" tabindex="-1"></a><span class="do">## cap.rate 0.8051027  0.0553063 14.55716 7.736456e-19 0.6937769 0.9164285 46</span></span>
<span id="cb48-4"><a href="ch6.html#cb48-4" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">+</span> pref, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi)</span>
<span id="cb48-5"><a href="ch6.html#cb48-5" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: emp.rate</span></span>
<span id="cb48-6"><a href="ch6.html#cb48-6" tabindex="-1"></a><span class="do">## Observations: 141</span></span>
<span id="cb48-7"><a href="ch6.html#cb48-7" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (pref) </span></span>
<span id="cb48-8"><a href="ch6.html#cb48-8" tabindex="-1"></a><span class="do">##               Estimate Std. Error    t value   Pr(&gt;|t|)    </span></span>
<span id="cb48-9"><a href="ch6.html#cb48-9" tabindex="-1"></a><span class="do">## (Intercept)   0.089848   0.021462    4.18630 1.2656e-04 ***</span></span>
<span id="cb48-10"><a href="ch6.html#cb48-10" tabindex="-1"></a><span class="do">## cap.rate      0.805103   0.055306   14.55716  &lt; 2.2e-16 ***</span></span>
<span id="cb48-11"><a href="ch6.html#cb48-11" tabindex="-1"></a><span class="do">## pref京都府   -0.015791   0.001458  -10.82826 3.0501e-14 ***</span></span>
<span id="cb48-12"><a href="ch6.html#cb48-12" tabindex="-1"></a><span class="do">## pref佐賀県    0.101711   0.000079 1291.87409  &lt; 2.2e-16 ***</span></span>
<span id="cb48-13"><a href="ch6.html#cb48-13" tabindex="-1"></a><span class="do">## pref兵庫県    0.013938   0.007831    1.77976 8.1722e-02 .  </span></span>
<span id="cb48-14"><a href="ch6.html#cb48-14" tabindex="-1"></a><span class="do">## pref北海道    0.047209   0.008154    5.78946 5.9824e-07 ***</span></span>
<span id="cb48-15"><a href="ch6.html#cb48-15" tabindex="-1"></a><span class="do">## pref千葉県    0.036871   0.009491    3.88481 3.2612e-04 ***</span></span>
<span id="cb48-16"><a href="ch6.html#cb48-16" tabindex="-1"></a><span class="do">## pref和歌山県 -0.100145   0.003400  -29.45717  &lt; 2.2e-16 ***</span></span>
<span id="cb48-17"><a href="ch6.html#cb48-17" tabindex="-1"></a><span class="do">## ... 40 coefficients remaining (display them with summary() or use argument n)</span></span>
<span id="cb48-18"><a href="ch6.html#cb48-18" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb48-19"><a href="ch6.html#cb48-19" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb48-20"><a href="ch6.html#cb48-20" tabindex="-1"></a><span class="do">## RMSE: 0.012388   Adj. R2: 0.975372</span></span>
<span id="cb48-21"><a href="ch6.html#cb48-21" tabindex="-1"></a><span class="co"># このやり方のほうが直感的だと思うのですが, なぜか同じ標準誤差を得られず... ご存じの方ご教授ください.</span></span>
<span id="cb48-22"><a href="ch6.html#cb48-22" tabindex="-1"></a><span class="co"># feols(emp.rate ~ cap.rate | pref, data = yamaguchi)</span></span></code></pre></div>
</div>
<div id="実証例6.2-保育所が母親の就業に与える影響の固定効果推定の標準誤差" class="section level2 unnumbered hasAnchor">
<h2>実証例6.2 保育所が母親の就業に与える影響の固定効果推定の標準誤差<a href="ch6.html#実証例6.2-保育所が母親の就業に与える影響の固定効果推定の標準誤差" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="ch6.html#ex6.1">実証例6.1</a>を参照せよ.</p>
</div>
<div id="実証例6.3-保育所が母親の就業に与え影響のプールされたols推定の標準誤差" class="section level2 unnumbered hasAnchor">
<h2>実証例6.3 保育所が母親の就業に与え影響のプールされたOLS推定の標準誤差<a href="ch6.html#実証例6.3-保育所が母親の就業に与え影響のプールされたols推定の標準誤差" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>自由度修正ホワイト標準誤差を得る式は<a href="ch6.html#exp6.1">(6.1)式</a>を参照せよ.
<code>lm_robust()</code>でクラスター構造に頑健な標準誤差を求めるには<code>clusters</code>引数を指定する.
一方<code>feols()</code>では<code>vcov</code>引数にクラスター構造を指定すればよい.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="ch6.html#cb49-1" tabindex="-1"></a><span class="co"># クラスター構造に頑健な標準誤差</span></span>
<span id="cb49-2"><a href="ch6.html#cb49-2" tabindex="-1"></a><span class="fu">lm_robust</span>(emp.rate <span class="sc">~</span> cap.rate, <span class="at">data =</span> yamaguchi, <span class="at">clusters =</span> pref, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>)</span>
<span id="cb49-3"><a href="ch6.html#cb49-3" tabindex="-1"></a><span class="do">##              Estimate Std. Error  t value     Pr(&gt;|t|)  CI Lower  CI Upper DF</span></span>
<span id="cb49-4"><a href="ch6.html#cb49-4" tabindex="-1"></a><span class="do">## (Intercept) 0.2081492 0.02820058 7.381027 2.451454e-09 0.1513844 0.2649140 46</span></span>
<span id="cb49-5"><a href="ch6.html#cb49-5" tabindex="-1"></a><span class="do">## cap.rate    0.6154919 0.06742944 9.127940 6.822894e-12 0.4797635 0.7512203 46</span></span>
<span id="cb49-6"><a href="ch6.html#cb49-6" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate, <span class="at">vcov =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi)</span>
<span id="cb49-7"><a href="ch6.html#cb49-7" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: emp.rate</span></span>
<span id="cb49-8"><a href="ch6.html#cb49-8" tabindex="-1"></a><span class="do">## Observations: 141</span></span>
<span id="cb49-9"><a href="ch6.html#cb49-9" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (pref) </span></span>
<span id="cb49-10"><a href="ch6.html#cb49-10" tabindex="-1"></a><span class="do">##             Estimate Std. Error t value   Pr(&gt;|t|)    </span></span>
<span id="cb49-11"><a href="ch6.html#cb49-11" tabindex="-1"></a><span class="do">## (Intercept) 0.208149   0.028201 7.38103 2.4515e-09 ***</span></span>
<span id="cb49-12"><a href="ch6.html#cb49-12" tabindex="-1"></a><span class="do">## cap.rate    0.615492   0.067429 9.12794 6.8229e-12 ***</span></span>
<span id="cb49-13"><a href="ch6.html#cb49-13" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb49-14"><a href="ch6.html#cb49-14" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb49-15"><a href="ch6.html#cb49-15" tabindex="-1"></a><span class="do">## RMSE: 0.066148   Adj. R2: 0.530204</span></span></code></pre></div>
</div>
<div id="実証例6.4-保育所が母親の就業に与える影響の時間効果を入れた分析" class="section level2 unnumbered hasAnchor">
<h2>実証例6.4 保育所が母親の就業に与える影響の時間効果を入れた分析<a href="ch6.html#実証例6.4-保育所が母親の就業に与える影響の時間効果を入れた分析" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>lm_robust()</code>では, <code>fixed_effects</code>引数に時間効果の変数<code>year</code>を指定する.
一方<code>feols()</code>では<code>formula</code>の後ろに<code>|</code>を付けて固定効果の変数を指定する.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="ch6.html#cb50-1" tabindex="-1"></a><span class="fu">lm_robust</span>(emp.rate <span class="sc">~</span> cap.rate, <span class="at">data =</span> yamaguchi, <span class="at">clusters =</span> pref, <span class="at">fixed_effects =</span> year, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>)</span>
<span id="cb50-2"><a href="ch6.html#cb50-2" tabindex="-1"></a><span class="do">##           Estimate Std. Error  t value     Pr(&gt;|t|)  CI Lower  CI Upper DF</span></span>
<span id="cb50-3"><a href="ch6.html#cb50-3" tabindex="-1"></a><span class="do">## cap.rate 0.5848218 0.07301598 8.009504 2.863598e-10 0.4378482 0.7317953 46</span></span>
<span id="cb50-4"><a href="ch6.html#cb50-4" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">|</span> year, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi)</span>
<span id="cb50-5"><a href="ch6.html#cb50-5" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: emp.rate</span></span>
<span id="cb50-6"><a href="ch6.html#cb50-6" tabindex="-1"></a><span class="do">## Observations: 141</span></span>
<span id="cb50-7"><a href="ch6.html#cb50-7" tabindex="-1"></a><span class="do">## Fixed-effects: year: 3</span></span>
<span id="cb50-8"><a href="ch6.html#cb50-8" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (pref) </span></span>
<span id="cb50-9"><a href="ch6.html#cb50-9" tabindex="-1"></a><span class="do">##          Estimate Std. Error t value   Pr(&gt;|t|)    </span></span>
<span id="cb50-10"><a href="ch6.html#cb50-10" tabindex="-1"></a><span class="do">## cap.rate 0.584822   0.073016  8.0095 2.8636e-10 ***</span></span>
<span id="cb50-11"><a href="ch6.html#cb50-11" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb50-12"><a href="ch6.html#cb50-12" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb50-13"><a href="ch6.html#cb50-13" tabindex="-1"></a><span class="do">## RMSE: 0.065255     Adj. R2: 0.536128</span></span>
<span id="cb50-14"><a href="ch6.html#cb50-14" tabindex="-1"></a><span class="do">##                  Within R2: 0.489665</span></span></code></pre></div>
</div>
<div id="実証例6.5-保育所が母親の就業に与える影響の都道府県効果と年効果を入れた分析" class="section level2 unnumbered hasAnchor">
<h2>実証例6.5 保育所が母親の就業に与える影響の都道府県効果と年効果を入れた分析<a href="ch6.html#実証例6.5-保育所が母親の就業に与える影響の都道府県効果と年効果を入れた分析" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>lm_robust()</code>では, <code>fixed_effects</code>引数に都道府県効果と年効果両方<code>pref + year</code>を指定する.
一方で<code>feols()</code>では<a href="ch6.html#ex6.1">実証例6.1</a>同様<code>pref</code>をパイプ<code>|</code>の後ろにいれると異なる標準誤差が出力されるため, やはり<code>formula</code>に直接加え, <code>cluster</code>引数に都道府県を指定する.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="ch6.html#cb51-1" tabindex="-1"></a><span class="fu">lm_robust</span>(emp.rate <span class="sc">~</span> cap.rate, <span class="at">data =</span> yamaguchi, <span class="at">clusters =</span> pref, <span class="at">fixed_effects =</span> pref <span class="sc">+</span> year, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>)</span>
<span id="cb51-2"><a href="ch6.html#cb51-2" tabindex="-1"></a><span class="do">##            Estimate Std. Error  t value  Pr(&gt;|t|)    CI Lower  CI Upper DF</span></span>
<span id="cb51-3"><a href="ch6.html#cb51-3" tabindex="-1"></a><span class="do">## cap.rate 0.09032499 0.07356807 1.227774 0.2257775 -0.05775986 0.2384098 46</span></span>
<span id="cb51-4"><a href="ch6.html#cb51-4" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">+</span> pref <span class="sc">|</span> year, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi)</span>
<span id="cb51-5"><a href="ch6.html#cb51-5" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: emp.rate</span></span>
<span id="cb51-6"><a href="ch6.html#cb51-6" tabindex="-1"></a><span class="do">## Observations: 141</span></span>
<span id="cb51-7"><a href="ch6.html#cb51-7" tabindex="-1"></a><span class="do">## Fixed-effects: year: 3</span></span>
<span id="cb51-8"><a href="ch6.html#cb51-8" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (pref) </span></span>
<span id="cb51-9"><a href="ch6.html#cb51-9" tabindex="-1"></a><span class="do">##               Estimate Std. Error   t value   Pr(&gt;|t|)    </span></span>
<span id="cb51-10"><a href="ch6.html#cb51-10" tabindex="-1"></a><span class="do">## cap.rate      0.090325   0.073568   1.22777 2.2578e-01    </span></span>
<span id="cb51-11"><a href="ch6.html#cb51-11" tabindex="-1"></a><span class="do">## pref京都府   -0.034638   0.001940 -17.85623  &lt; 2.2e-16 ***</span></span>
<span id="cb51-12"><a href="ch6.html#cb51-12" tabindex="-1"></a><span class="do">## pref佐賀県    0.102728   0.000105 980.90855  &lt; 2.2e-16 ***</span></span>
<span id="cb51-13"><a href="ch6.html#cb51-13" tabindex="-1"></a><span class="do">## pref兵庫県   -0.087272   0.010417  -8.37790 8.2512e-11 ***</span></span>
<span id="cb51-14"><a href="ch6.html#cb51-14" tabindex="-1"></a><span class="do">## pref北海道   -0.058177   0.010847  -5.36353 2.5715e-06 ***</span></span>
<span id="cb51-15"><a href="ch6.html#cb51-15" tabindex="-1"></a><span class="do">## pref千葉県   -0.085792   0.012625  -6.79539 1.8483e-08 ***</span></span>
<span id="cb51-16"><a href="ch6.html#cb51-16" tabindex="-1"></a><span class="do">## pref和歌山県 -0.056208   0.004522 -12.42916 2.6166e-16 ***</span></span>
<span id="cb51-17"><a href="ch6.html#cb51-17" tabindex="-1"></a><span class="do">## pref埼玉県   -0.079666   0.014887  -5.35148 2.6792e-06 ***</span></span>
<span id="cb51-18"><a href="ch6.html#cb51-18" tabindex="-1"></a><span class="do">## ... 39 coefficients remaining (display them with summary() or use argument n)</span></span>
<span id="cb51-19"><a href="ch6.html#cb51-19" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb51-20"><a href="ch6.html#cb51-20" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb51-21"><a href="ch6.html#cb51-21" tabindex="-1"></a><span class="do">## RMSE: 0.007106     Adj. R2: 0.991718</span></span>
<span id="cb51-22"><a href="ch6.html#cb51-22" tabindex="-1"></a><span class="do">##                  Within R2: 0.993948</span></span>
<span id="cb51-23"><a href="ch6.html#cb51-23" tabindex="-1"></a><span class="co"># 下では異なる標準誤差が出力される.</span></span>
<span id="cb51-24"><a href="ch6.html#cb51-24" tabindex="-1"></a><span class="co"># feols(emp.rate ~ cap.rate | pref + year, cluster = ~pref, data = yamaguchi)</span></span></code></pre></div>
</div>
<div id="実証例6.6-保育所が母親の就業に与える影響の個別トレンドと年効果を入れた分析" class="section level2 unnumbered hasAnchor">
<h2>実証例6.6 保育所が母親の就業に与える影響の個別トレンドと年効果を入れた分析<a href="ch6.html#実証例6.6-保育所が母親の就業に与える影響の個別トレンドと年効果を入れた分析" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>lm_robust()</code>で複数の固定効果を入れるとき, <code>formula</code>や<code>fixed_effects</code>の指定の仕方によっては一部の変数が<code>NA</code>になるなど挙動がおかしくなることがある (<a href="https://keita43a.hatenablog.com/entry/2019/04/17/232548">参考</a>).
<code>feols()</code>では, <code>formula</code>中に<code>i()</code>を使って固定効果変数を指定することで, 正しい標準誤差が得られるが, 正しい標準誤差が必要ない場合はコメントした3つめの方法のほうが速いとのこと (<code>feols</code>公式リファレンスのInteractionsの節を見よ).</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="ch6.html#cb52-1" tabindex="-1"></a><span class="fu">lm_robust</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">+</span> pref <span class="sc">+</span> pref<span class="sc">:</span>year <span class="sc">+</span> <span class="fu">factor</span>(year), <span class="at">data =</span> yamaguchi, <span class="at">clusters =</span> pref, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>)</span>
<span id="cb52-2"><a href="ch6.html#cb52-2" tabindex="-1"></a><span class="do">## 1 coefficient  not defined because the design matrix is rank deficient</span></span>
<span id="cb52-3"><a href="ch6.html#cb52-3" tabindex="-1"></a><span class="do">##                        Estimate   Std. Error      t value     Pr(&gt;|t|)</span></span>
<span id="cb52-4"><a href="ch6.html#cb52-4" tabindex="-1"></a><span class="do">## (Intercept)                  NA           NA           NA           NA</span></span>
<span id="cb52-5"><a href="ch6.html#cb52-5" tabindex="-1"></a><span class="do">## cap.rate           9.152586e-02 1.711945e-01   0.53463092 5.954800e-01</span></span>
<span id="cb52-6"><a href="ch6.html#cb52-6" tabindex="-1"></a><span class="do">## pref京都府        -2.871962e+00 2.980210e-01  -9.63677465 1.302610e-12</span></span>
<span id="cb52-7"><a href="ch6.html#cb52-7" tabindex="-1"></a><span class="do">## pref佐賀県         2.217746e+00 1.038863e+00   2.13478216 3.813866e-02</span></span>
<span id="cb52-8"><a href="ch6.html#cb52-8" tabindex="-1"></a><span class="do">## pref兵庫県        -1.674131e+00 3.096746e-01  -5.40609737 2.224415e-06</span></span>
<span id="cb52-9"><a href="ch6.html#cb52-9" tabindex="-1"></a><span class="do">## pref北海道        -2.027188e+00 3.719798e-01  -5.44972514 1.916879e-06</span></span>
<span id="cb52-10"><a href="ch6.html#cb52-10" tabindex="-1"></a><span class="do">## pref千葉県         1.008553e+00 8.235894e-01   1.22458214 2.269671e-01</span></span>
<span id="cb52-11"><a href="ch6.html#cb52-11" tabindex="-1"></a><span class="do">## pref和歌山県      -2.425115e+00 1.995858e+00  -1.21507391 2.305380e-01</span></span>
<span id="cb52-12"><a href="ch6.html#cb52-12" tabindex="-1"></a><span class="do">## pref埼玉県        -3.204944e+00 2.345052e-01 -13.66683775 8.267630e-18</span></span>
<span id="cb52-13"><a href="ch6.html#cb52-13" tabindex="-1"></a><span class="do">## pref大分県         5.073632e-03 1.070371e-01   0.04740068 9.623991e-01</span></span>
<span id="cb52-14"><a href="ch6.html#cb52-14" tabindex="-1"></a><span class="do">## pref大阪府        -3.544666e+00 5.791509e-01  -6.12045289 1.910245e-07</span></span>
<span id="cb52-15"><a href="ch6.html#cb52-15" tabindex="-1"></a><span class="do">## pref奈良県        -2.726156e+00 2.286274e-01 -11.92401378 1.133222e-15</span></span>
<span id="cb52-16"><a href="ch6.html#cb52-16" tabindex="-1"></a><span class="do">## pref宮城県         6.645164e+00 2.957274e-01  22.47057454 1.925684e-26</span></span>
<span id="cb52-17"><a href="ch6.html#cb52-17" tabindex="-1"></a><span class="do">## pref宮崎県         8.787160e-01 7.167609e-02  12.25954090 4.264852e-16</span></span>
<span id="cb52-18"><a href="ch6.html#cb52-18" tabindex="-1"></a><span class="do">## pref富山県         6.196146e-01 2.014006e+00   0.30765283 7.597352e-01</span></span>
<span id="cb52-19"><a href="ch6.html#cb52-19" tabindex="-1"></a><span class="do">## pref山口県         1.556481e+00 2.694339e-01   5.77685746 6.247431e-07</span></span>
<span id="cb52-20"><a href="ch6.html#cb52-20" tabindex="-1"></a><span class="do">## pref山形県         1.262470e+01 1.220833e+00  10.34105881 1.385765e-13</span></span>
<span id="cb52-21"><a href="ch6.html#cb52-21" tabindex="-1"></a><span class="do">## pref山梨県         1.024933e+00 2.030432e+00   0.50478581 6.161191e-01</span></span>
<span id="cb52-22"><a href="ch6.html#cb52-22" tabindex="-1"></a><span class="do">## pref岐阜県         1.822042e+00 5.200581e-01   3.50353633 1.034380e-03</span></span>
<span id="cb52-23"><a href="ch6.html#cb52-23" tabindex="-1"></a><span class="do">## pref岡山県         1.027390e+00 7.911333e-01   1.29863084 2.005433e-01</span></span>
<span id="cb52-24"><a href="ch6.html#cb52-24" tabindex="-1"></a><span class="do">## pref岩手県         3.840666e+00 2.153963e+00   1.78306992 8.117418e-02</span></span>
<span id="cb52-25"><a href="ch6.html#cb52-25" tabindex="-1"></a><span class="do">## pref島根県        -2.455887e+00 3.853635e+00  -0.63729092 5.270947e-01</span></span>
<span id="cb52-26"><a href="ch6.html#cb52-26" tabindex="-1"></a><span class="do">## pref広島県         1.248305e+00 3.022802e-01   4.12962970 1.515124e-04</span></span>
<span id="cb52-27"><a href="ch6.html#cb52-27" tabindex="-1"></a><span class="do">## pref徳島県         1.757559e+00 5.668540e-01   3.10054989 3.293771e-03</span></span>
<span id="cb52-28"><a href="ch6.html#cb52-28" tabindex="-1"></a><span class="do">## pref愛媛県        -4.404752e-01 7.973306e-01  -0.55243733 5.833233e-01</span></span>
<span id="cb52-29"><a href="ch6.html#cb52-29" tabindex="-1"></a><span class="do">## pref愛知県         3.278383e-01 7.286383e-01   0.44993284 6.548721e-01</span></span>
<span id="cb52-30"><a href="ch6.html#cb52-30" tabindex="-1"></a><span class="do">## pref新潟県         3.477857e+00 1.423998e+00   2.44231814 1.849492e-02</span></span>
<span id="cb52-31"><a href="ch6.html#cb52-31" tabindex="-1"></a><span class="do">## pref東京都         7.338397e-01 1.591782e+00   0.46101772 6.469583e-01</span></span>
<span id="cb52-32"><a href="ch6.html#cb52-32" tabindex="-1"></a><span class="do">## pref栃木県         3.625324e+00 8.809020e-02  41.15468113 6.112933e-38</span></span>
<span id="cb52-33"><a href="ch6.html#cb52-33" tabindex="-1"></a><span class="do">## pref沖縄県         4.899894e-01 6.460539e-01   0.75843429 4.520596e-01</span></span>
<span id="cb52-34"><a href="ch6.html#cb52-34" tabindex="-1"></a><span class="do">## pref滋賀県         1.900476e+00 2.319337e-01   8.19404868 1.533055e-10</span></span>
<span id="cb52-35"><a href="ch6.html#cb52-35" tabindex="-1"></a><span class="do">## pref熊本県         3.927163e+00 2.068275e-01  18.98762881 2.125341e-23</span></span>
<span id="cb52-36"><a href="ch6.html#cb52-36" tabindex="-1"></a><span class="do">## pref石川県         3.910248e-01 1.234511e+00   0.31674467 7.528704e-01</span></span>
<span id="cb52-37"><a href="ch6.html#cb52-37" tabindex="-1"></a><span class="do">## pref神奈川県      -6.634092e-01 1.870506e-01  -3.54668267 9.101361e-04</span></span>
<span id="cb52-38"><a href="ch6.html#cb52-38" tabindex="-1"></a><span class="do">## pref福井県         3.534852e+00 1.823700e+00   1.93828551 5.873952e-02</span></span>
<span id="cb52-39"><a href="ch6.html#cb52-39" tabindex="-1"></a><span class="do">## pref福岡県         1.497746e+00 6.314768e-01   2.37181530 2.194159e-02</span></span>
<span id="cb52-40"><a href="ch6.html#cb52-40" tabindex="-1"></a><span class="do">## pref福島県         1.117377e+01 5.085348e-01  21.97246851 4.954880e-26</span></span>
<span id="cb52-41"><a href="ch6.html#cb52-41" tabindex="-1"></a><span class="do">## pref秋田県         1.732411e+00 2.860854e+00   0.60555731 5.477851e-01</span></span>
<span id="cb52-42"><a href="ch6.html#cb52-42" tabindex="-1"></a><span class="do">## pref群馬県        -4.778096e+00 1.218682e+00  -3.92070884 2.917814e-04</span></span>
<span id="cb52-43"><a href="ch6.html#cb52-43" tabindex="-1"></a><span class="do">## pref茨城県         1.526224e+00 6.399066e-01   2.38507320 2.125240e-02</span></span>
<span id="cb52-44"><a href="ch6.html#cb52-44" tabindex="-1"></a><span class="do">## pref長崎県        -6.210215e-01 1.309920e+00  -0.47409124 6.376776e-01</span></span>
<span id="cb52-45"><a href="ch6.html#cb52-45" tabindex="-1"></a><span class="do">## pref長野県         2.192693e+00 1.028524e+00   2.13188335 3.838924e-02</span></span>
<span id="cb52-46"><a href="ch6.html#cb52-46" tabindex="-1"></a><span class="do">## pref青森県        -1.478740e+00 2.070665e+00  -0.71413775 4.787502e-01</span></span>
<span id="cb52-47"><a href="ch6.html#cb52-47" tabindex="-1"></a><span class="do">## pref静岡県         1.468932e+00 4.231490e-01   3.47142978 1.137182e-03</span></span>
<span id="cb52-48"><a href="ch6.html#cb52-48" tabindex="-1"></a><span class="do">## pref香川県        -2.331767e-01 1.591359e-01  -1.46526777 1.496500e-01</span></span>
<span id="cb52-49"><a href="ch6.html#cb52-49" tabindex="-1"></a><span class="do">## pref高知県         7.650533e+00 3.197364e-01  23.92762201 1.337744e-27</span></span>
<span id="cb52-50"><a href="ch6.html#cb52-50" tabindex="-1"></a><span class="do">## pref鳥取県         1.845473e+00 6.878888e-01   2.68280711 1.010907e-02</span></span>
<span id="cb52-51"><a href="ch6.html#cb52-51" tabindex="-1"></a><span class="do">## pref鹿児島県      -1.877756e+00 3.170802e-01  -5.92202350 3.789537e-07</span></span>
<span id="cb52-52"><a href="ch6.html#cb52-52" tabindex="-1"></a><span class="do">## factor(year)2005   3.621003e-02 5.450406e-03   6.64354739 3.125769e-08</span></span>
<span id="cb52-53"><a href="ch6.html#cb52-53" tabindex="-1"></a><span class="do">## factor(year)2010   7.467874e-02 1.192688e-02   6.26138176 1.173411e-07</span></span>
<span id="cb52-54"><a href="ch6.html#cb52-54" tabindex="-1"></a><span class="do">## pref三重県:year    1.644877e-04 3.027017e-05   5.43398685 2.022627e-06</span></span>
<span id="cb52-55"><a href="ch6.html#cb52-55" tabindex="-1"></a><span class="do">## pref京都府:year    1.579628e-03 1.206210e-04  13.09579396 3.974466e-17</span></span>
<span id="cb52-56"><a href="ch6.html#cb52-56" tabindex="-1"></a><span class="do">## pref佐賀県:year   -8.903847e-04 5.485271e-04  -1.62322835 1.113748e-01</span></span>
<span id="cb52-57"><a href="ch6.html#cb52-57" tabindex="-1"></a><span class="do">## pref兵庫県:year    9.560232e-04 1.362719e-04   7.01555630 8.635591e-09</span></span>
<span id="cb52-58"><a href="ch6.html#cb52-58" tabindex="-1"></a><span class="do">## pref北海道:year    1.146626e-03 1.678456e-04   6.83143759 1.631637e-08</span></span>
<span id="cb52-59"><a href="ch6.html#cb52-59" tabindex="-1"></a><span class="do">## pref千葉県:year   -3.812174e-04 3.951511e-04  -0.96473834 3.397205e-01</span></span>
<span id="cb52-60"><a href="ch6.html#cb52-60" tabindex="-1"></a><span class="do">## pref和歌山県:year  1.345951e-03 1.030958e-03   1.30553359 1.982033e-01</span></span>
<span id="cb52-61"><a href="ch6.html#cb52-61" tabindex="-1"></a><span class="do">## pref埼玉県:year    1.723351e-03 1.039687e-04  16.57567312 5.032897e-21</span></span>
<span id="cb52-62"><a href="ch6.html#cb52-62" tabindex="-1"></a><span class="do">## pref大分県:year    1.765525e-04 2.902556e-05   6.08265810 2.176731e-07</span></span>
<span id="cb52-63"><a href="ch6.html#cb52-63" tabindex="-1"></a><span class="do">## pref大阪府:year    1.880450e-03 3.080743e-04   6.10388586 2.022798e-07</span></span>
<span id="cb52-64"><a href="ch6.html#cb52-64" tabindex="-1"></a><span class="do">## pref奈良県:year    1.470248e-03 1.376076e-04  10.68435296 4.754684e-14</span></span>
<span id="cb52-65"><a href="ch6.html#cb52-65" tabindex="-1"></a><span class="do">## pref宮城県:year   -3.142883e-03 1.619454e-04 -19.40706015 8.677081e-24</span></span>
<span id="cb52-66"><a href="ch6.html#cb52-66" tabindex="-1"></a><span class="do">## pref宮崎県:year   -2.218564e-04 6.967251e-05  -3.18427498 2.604335e-03</span></span>
<span id="cb52-67"><a href="ch6.html#cb52-67" tabindex="-1"></a><span class="do">## pref富山県:year   -7.061253e-05 1.046817e-03  -0.06745453 9.465122e-01</span></span>
<span id="cb52-68"><a href="ch6.html#cb52-68" tabindex="-1"></a><span class="do">## pref山口県:year   -6.135854e-04 1.078606e-04  -5.68869014 8.458394e-07</span></span>
<span id="cb52-69"><a href="ch6.html#cb52-69" tabindex="-1"></a><span class="do">## pref山形県:year   -6.020572e-03 6.333876e-04  -9.50535243 1.992064e-12</span></span>
<span id="cb52-70"><a href="ch6.html#cb52-70" tabindex="-1"></a><span class="do">## pref山梨県:year   -3.363943e-04 1.047967e-03  -0.32099713 7.496664e-01</span></span>
<span id="cb52-71"><a href="ch6.html#cb52-71" tabindex="-1"></a><span class="do">## pref岐阜県:year   -7.487609e-04 2.898465e-04  -2.58330181 1.303005e-02</span></span>
<span id="cb52-72"><a href="ch6.html#cb52-72" tabindex="-1"></a><span class="do">## pref岡山県:year   -3.387222e-04 4.218142e-04  -0.80301292 4.260971e-01</span></span>
<span id="cb52-73"><a href="ch6.html#cb52-73" tabindex="-1"></a><span class="do">## pref岩手県:year   -1.690788e-03 1.102209e-03  -1.53399990 1.318795e-01</span></span>
<span id="cb52-74"><a href="ch6.html#cb52-74" tabindex="-1"></a><span class="do">## pref島根県:year    1.475717e-03 1.960741e-03   0.75263199 4.555056e-01</span></span>
<span id="cb52-75"><a href="ch6.html#cb52-75" tabindex="-1"></a><span class="do">## pref広島県:year   -4.637889e-04 1.782963e-04  -2.60122545 1.245268e-02</span></span>
<span id="cb52-76"><a href="ch6.html#cb52-76" tabindex="-1"></a><span class="do">## pref徳島県:year   -6.795045e-04 3.146540e-04  -2.15952899 3.605737e-02</span></span>
<span id="cb52-77"><a href="ch6.html#cb52-77" tabindex="-1"></a><span class="do">## pref愛媛県:year    3.761926e-04 3.701080e-04   1.01644011 3.147364e-01</span></span>
<span id="cb52-78"><a href="ch6.html#cb52-78" tabindex="-1"></a><span class="do">## pref愛知県:year   -2.571934e-05 3.373954e-04  -0.07622908 9.395674e-01</span></span>
<span id="cb52-79"><a href="ch6.html#cb52-79" tabindex="-1"></a><span class="do">## pref新潟県:year   -1.503260e-03 7.502503e-04  -2.00367859 5.101487e-02</span></span>
<span id="cb52-80"><a href="ch6.html#cb52-80" tabindex="-1"></a><span class="do">## pref東京都:year   -2.338547e-04 7.729007e-04  -0.30256756 7.635834e-01</span></span>
<span id="cb52-81"><a href="ch6.html#cb52-81" tabindex="-1"></a><span class="do">## pref栃木県:year   -1.632796e-03 6.269039e-05 -26.04539636 3.517850e-29</span></span>
<span id="cb52-82"><a href="ch6.html#cb52-82" tabindex="-1"></a><span class="do">## pref沖縄県:year   -4.421173e-05 3.426818e-04  -0.12901685 8.979068e-01</span></span>
<span id="cb52-83"><a href="ch6.html#cb52-83" tabindex="-1"></a><span class="do">## pref滋賀県:year   -7.991731e-04 9.387049e-05  -8.51357175 5.234315e-11</span></span>
<span id="cb52-84"><a href="ch6.html#cb52-84" tabindex="-1"></a><span class="do">## pref熊本県:year   -1.746277e-03 6.820316e-05 -25.60404923 7.347324e-29</span></span>
<span id="cb52-85"><a href="ch6.html#cb52-85" tabindex="-1"></a><span class="do">## pref石川県:year    3.479122e-05 6.635606e-04   0.05243112 9.584122e-01</span></span>
<span id="cb52-86"><a href="ch6.html#cb52-86" tabindex="-1"></a><span class="do">## pref神奈川県:year  4.399746e-04 8.175846e-05   5.38139577 2.419722e-06</span></span>
<span id="cb52-87"><a href="ch6.html#cb52-87" tabindex="-1"></a><span class="do">## pref福井県:year   -1.519713e-03 9.530303e-04  -1.59461184 1.176477e-01</span></span>
<span id="cb52-88"><a href="ch6.html#cb52-88" tabindex="-1"></a><span class="do">## pref福岡県:year   -5.910875e-04 2.895411e-04  -2.04146347 4.696474e-02</span></span>
<span id="cb52-89"><a href="ch6.html#cb52-89" tabindex="-1"></a><span class="do">## pref福島県:year   -5.359968e-03 2.700037e-04 -19.85146155 3.414406e-24</span></span>
<span id="cb52-90"><a href="ch6.html#cb52-90" tabindex="-1"></a><span class="do">## pref秋田県:year   -6.234947e-04 1.459698e-03  -0.42713947 6.712705e-01</span></span>
<span id="cb52-91"><a href="ch6.html#cb52-91" tabindex="-1"></a><span class="do">## pref群馬県:year    2.554465e-03 6.348100e-04   4.02398309 2.113878e-04</span></span>
<span id="cb52-92"><a href="ch6.html#cb52-92" tabindex="-1"></a><span class="do">## pref茨城県:year   -6.014168e-04 3.371727e-04  -1.78370522 8.106941e-02</span></span>
<span id="cb52-93"><a href="ch6.html#cb52-93" tabindex="-1"></a><span class="do">## pref長崎県:year    5.083915e-04 6.835363e-04   0.74376677 4.608000e-01</span></span>
<span id="cb52-94"><a href="ch6.html#cb52-94" tabindex="-1"></a><span class="do">## pref長野県:year   -9.269502e-04 5.525346e-04  -1.67763279 1.002018e-01</span></span>
<span id="cb52-95"><a href="ch6.html#cb52-95" tabindex="-1"></a><span class="do">## pref青森県:year    9.522157e-04 1.070143e-03   0.88980216 3.782022e-01</span></span>
<span id="cb52-96"><a href="ch6.html#cb52-96" tabindex="-1"></a><span class="do">## pref静岡県:year   -5.695088e-04 1.940567e-04  -2.93475524 5.193745e-03</span></span>
<span id="cb52-97"><a href="ch6.html#cb52-97" tabindex="-1"></a><span class="do">## pref香川県:year    3.020400e-04 1.086500e-04   2.77993665 7.850358e-03</span></span>
<span id="cb52-98"><a href="ch6.html#cb52-98" tabindex="-1"></a><span class="do">## pref高知県:year   -3.589389e-03 1.097551e-04 -32.70361670 1.691800e-33</span></span>
<span id="cb52-99"><a href="ch6.html#cb52-99" tabindex="-1"></a><span class="do">## pref鳥取県:year   -6.801584e-04 3.858225e-04  -1.76287871 8.456361e-02</span></span>
<span id="cb52-100"><a href="ch6.html#cb52-100" tabindex="-1"></a><span class="do">## pref鹿児島県:year  1.115343e-03 1.334348e-04   8.35871307 8.801002e-11</span></span>
<span id="cb52-101"><a href="ch6.html#cb52-101" tabindex="-1"></a><span class="do">##                        CI Lower      CI Upper DF</span></span>
<span id="cb52-102"><a href="ch6.html#cb52-102" tabindex="-1"></a><span class="do">## (Intercept)                  NA            NA NA</span></span>
<span id="cb52-103"><a href="ch6.html#cb52-103" tabindex="-1"></a><span class="do">## cap.rate          -2.530707e-01  4.361225e-01 46</span></span>
<span id="cb52-104"><a href="ch6.html#cb52-104" tabindex="-1"></a><span class="do">## pref京都府        -3.471847e+00 -2.272076e+00 46</span></span>
<span id="cb52-105"><a href="ch6.html#cb52-105" tabindex="-1"></a><span class="do">## pref佐賀県         1.266234e-01  4.308868e+00 46</span></span>
<span id="cb52-106"><a href="ch6.html#cb52-106" tabindex="-1"></a><span class="do">## pref兵庫県        -2.297474e+00 -1.050788e+00 46</span></span>
<span id="cb52-107"><a href="ch6.html#cb52-107" tabindex="-1"></a><span class="do">## pref北海道        -2.775944e+00 -1.278431e+00 46</span></span>
<span id="cb52-108"><a href="ch6.html#cb52-108" tabindex="-1"></a><span class="do">## pref千葉県        -6.492466e-01  2.666352e+00 46</span></span>
<span id="cb52-109"><a href="ch6.html#cb52-109" tabindex="-1"></a><span class="do">## pref和歌山県      -6.442569e+00  1.592339e+00 46</span></span>
<span id="cb52-110"><a href="ch6.html#cb52-110" tabindex="-1"></a><span class="do">## pref埼玉県        -3.676978e+00 -2.732910e+00 46</span></span>
<span id="cb52-111"><a href="ch6.html#cb52-111" tabindex="-1"></a><span class="do">## pref大分県        -2.103809e-01  2.205282e-01 46</span></span>
<span id="cb52-112"><a href="ch6.html#cb52-112" tabindex="-1"></a><span class="do">## pref大阪府        -4.710436e+00 -2.378895e+00 46</span></span>
<span id="cb52-113"><a href="ch6.html#cb52-113" tabindex="-1"></a><span class="do">## pref奈良県        -3.186359e+00 -2.265953e+00 46</span></span>
<span id="cb52-114"><a href="ch6.html#cb52-114" tabindex="-1"></a><span class="do">## pref宮城県         6.049896e+00  7.240432e+00 46</span></span>
<span id="cb52-115"><a href="ch6.html#cb52-115" tabindex="-1"></a><span class="do">## pref宮崎県         7.344395e-01  1.022992e+00 46</span></span>
<span id="cb52-116"><a href="ch6.html#cb52-116" tabindex="-1"></a><span class="do">## pref富山県        -3.434369e+00  4.673598e+00 46</span></span>
<span id="cb52-117"><a href="ch6.html#cb52-117" tabindex="-1"></a><span class="do">## pref山口県         1.014139e+00  2.098824e+00 46</span></span>
<span id="cb52-118"><a href="ch6.html#cb52-118" tabindex="-1"></a><span class="do">## pref山形県         1.016729e+01  1.508211e+01 46</span></span>
<span id="cb52-119"><a href="ch6.html#cb52-119" tabindex="-1"></a><span class="do">## pref山梨県        -3.062114e+00  5.111980e+00 46</span></span>
<span id="cb52-120"><a href="ch6.html#cb52-120" tabindex="-1"></a><span class="do">## pref岐阜県         7.752198e-01  2.868865e+00 46</span></span>
<span id="cb52-121"><a href="ch6.html#cb52-121" tabindex="-1"></a><span class="do">## pref岡山県        -5.650786e-01  2.619859e+00 46</span></span>
<span id="cb52-122"><a href="ch6.html#cb52-122" tabindex="-1"></a><span class="do">## pref岩手県        -4.950360e-01  8.176369e+00 46</span></span>
<span id="cb52-123"><a href="ch6.html#cb52-123" tabindex="-1"></a><span class="do">## pref島根県        -1.021285e+01  5.301078e+00 46</span></span>
<span id="cb52-124"><a href="ch6.html#cb52-124" tabindex="-1"></a><span class="do">## pref広島県         6.398469e-01  1.856764e+00 46</span></span>
<span id="cb52-125"><a href="ch6.html#cb52-125" tabindex="-1"></a><span class="do">## pref徳島県         6.165411e-01  2.898577e+00 46</span></span>
<span id="cb52-126"><a href="ch6.html#cb52-126" tabindex="-1"></a><span class="do">## pref愛媛県        -2.045419e+00  1.164468e+00 46</span></span>
<span id="cb52-127"><a href="ch6.html#cb52-127" tabindex="-1"></a><span class="do">## pref愛知県        -1.138835e+00  1.794511e+00 46</span></span>
<span id="cb52-128"><a href="ch6.html#cb52-128" tabindex="-1"></a><span class="do">## pref新潟県         6.114970e-01  6.344217e+00 46</span></span>
<span id="cb52-129"><a href="ch6.html#cb52-129" tabindex="-1"></a><span class="do">## pref東京都        -2.470251e+00  3.937931e+00 46</span></span>
<span id="cb52-130"><a href="ch6.html#cb52-130" tabindex="-1"></a><span class="do">## pref栃木県         3.448008e+00  3.802641e+00 46</span></span>
<span id="cb52-131"><a href="ch6.html#cb52-131" tabindex="-1"></a><span class="do">## pref沖縄県        -8.104496e-01  1.790428e+00 46</span></span>
<span id="cb52-132"><a href="ch6.html#cb52-132" tabindex="-1"></a><span class="do">## pref滋賀県         1.433618e+00  2.367335e+00 46</span></span>
<span id="cb52-133"><a href="ch6.html#cb52-133" tabindex="-1"></a><span class="do">## pref熊本県         3.510841e+00  4.343486e+00 46</span></span>
<span id="cb52-134"><a href="ch6.html#cb52-134" tabindex="-1"></a><span class="do">## pref石川県        -2.093917e+00  2.875967e+00 46</span></span>
<span id="cb52-135"><a href="ch6.html#cb52-135" tabindex="-1"></a><span class="do">## pref神奈川県      -1.039923e+00 -2.868958e-01 46</span></span>
<span id="cb52-136"><a href="ch6.html#cb52-136" tabindex="-1"></a><span class="do">## pref福井県        -1.360665e-01  7.205771e+00 46</span></span>
<span id="cb52-137"><a href="ch6.html#cb52-137" tabindex="-1"></a><span class="do">## pref福岡県         2.266495e-01  2.768843e+00 46</span></span>
<span id="cb52-138"><a href="ch6.html#cb52-138" tabindex="-1"></a><span class="do">## pref福島県         1.015014e+01  1.219739e+01 46</span></span>
<span id="cb52-139"><a href="ch6.html#cb52-139" tabindex="-1"></a><span class="do">## pref秋田県        -4.026190e+00  7.491013e+00 46</span></span>
<span id="cb52-140"><a href="ch6.html#cb52-140" tabindex="-1"></a><span class="do">## pref群馬県        -7.231176e+00 -2.325017e+00 46</span></span>
<span id="cb52-141"><a href="ch6.html#cb52-141" tabindex="-1"></a><span class="do">## pref茨城県         2.381589e-01  2.814289e+00 46</span></span>
<span id="cb52-142"><a href="ch6.html#cb52-142" tabindex="-1"></a><span class="do">## pref長崎県        -3.257753e+00  2.015710e+00 46</span></span>
<span id="cb52-143"><a href="ch6.html#cb52-143" tabindex="-1"></a><span class="do">## pref長野県         1.223817e-01  4.263004e+00 46</span></span>
<span id="cb52-144"><a href="ch6.html#cb52-144" tabindex="-1"></a><span class="do">## pref青森県        -5.646773e+00  2.689293e+00 46</span></span>
<span id="cb52-145"><a href="ch6.html#cb52-145" tabindex="-1"></a><span class="do">## pref静岡県         6.171773e-01  2.320687e+00 46</span></span>
<span id="cb52-146"><a href="ch6.html#cb52-146" tabindex="-1"></a><span class="do">## pref香川県        -5.535006e-01  8.714723e-02 46</span></span>
<span id="cb52-147"><a href="ch6.html#cb52-147" tabindex="-1"></a><span class="do">## pref高知県         7.006937e+00  8.294129e+00 46</span></span>
<span id="cb52-148"><a href="ch6.html#cb52-148" tabindex="-1"></a><span class="do">## pref鳥取県         4.608246e-01  3.230121e+00 46</span></span>
<span id="cb52-149"><a href="ch6.html#cb52-149" tabindex="-1"></a><span class="do">## pref鹿児島県      -2.516006e+00 -1.239507e+00 46</span></span>
<span id="cb52-150"><a href="ch6.html#cb52-150" tabindex="-1"></a><span class="do">## factor(year)2005   2.523893e-02  4.718112e-02 46</span></span>
<span id="cb52-151"><a href="ch6.html#cb52-151" tabindex="-1"></a><span class="do">## factor(year)2010   5.067118e-02  9.868630e-02 46</span></span>
<span id="cb52-152"><a href="ch6.html#cb52-152" tabindex="-1"></a><span class="do">## pref三重県:year    1.035570e-04  2.254184e-04 46</span></span>
<span id="cb52-153"><a href="ch6.html#cb52-153" tabindex="-1"></a><span class="do">## pref京都府:year    1.336830e-03  1.822425e-03 46</span></span>
<span id="cb52-154"><a href="ch6.html#cb52-154" tabindex="-1"></a><span class="do">## pref佐賀県:year   -1.994513e-03  2.137430e-04 46</span></span>
<span id="cb52-155"><a href="ch6.html#cb52-155" tabindex="-1"></a><span class="do">## pref兵庫県:year    6.817221e-04  1.230324e-03 46</span></span>
<span id="cb52-156"><a href="ch6.html#cb52-156" tabindex="-1"></a><span class="do">## pref北海道:year    8.087709e-04  1.484482e-03 46</span></span>
<span id="cb52-157"><a href="ch6.html#cb52-157" tabindex="-1"></a><span class="do">## pref千葉県:year   -1.176615e-03  4.141805e-04 46</span></span>
<span id="cb52-158"><a href="ch6.html#cb52-158" tabindex="-1"></a><span class="do">## pref和歌山県:year -7.292608e-04  3.421163e-03 46</span></span>
<span id="cb52-159"><a href="ch6.html#cb52-159" tabindex="-1"></a><span class="do">## pref埼玉県:year    1.514073e-03  1.932629e-03 46</span></span>
<span id="cb52-160"><a href="ch6.html#cb52-160" tabindex="-1"></a><span class="do">## pref大分県:year    1.181271e-04  2.349780e-04 46</span></span>
<span id="cb52-161"><a href="ch6.html#cb52-161" tabindex="-1"></a><span class="do">## pref大阪府:year    1.260329e-03  2.500572e-03 46</span></span>
<span id="cb52-162"><a href="ch6.html#cb52-162" tabindex="-1"></a><span class="do">## pref奈良県:year    1.193258e-03  1.747238e-03 46</span></span>
<span id="cb52-163"><a href="ch6.html#cb52-163" tabindex="-1"></a><span class="do">## pref宮城県:year   -3.468862e-03 -2.816904e-03 46</span></span>
<span id="cb52-164"><a href="ch6.html#cb52-164" tabindex="-1"></a><span class="do">## pref宮崎県:year   -3.620999e-04 -8.161295e-05 46</span></span>
<span id="cb52-165"><a href="ch6.html#cb52-165" tabindex="-1"></a><span class="do">## pref富山県:year   -2.177745e-03  2.036520e-03 46</span></span>
<span id="cb52-166"><a href="ch6.html#cb52-166" tabindex="-1"></a><span class="do">## pref山口県:year   -8.306974e-04 -3.964733e-04 46</span></span>
<span id="cb52-167"><a href="ch6.html#cb52-167" tabindex="-1"></a><span class="do">## pref山形県:year   -7.295515e-03 -4.745629e-03 46</span></span>
<span id="cb52-168"><a href="ch6.html#cb52-168" tabindex="-1"></a><span class="do">## pref山梨県:year   -2.445842e-03  1.773053e-03 46</span></span>
<span id="cb52-169"><a href="ch6.html#cb52-169" tabindex="-1"></a><span class="do">## pref岐阜県:year   -1.332192e-03 -1.653302e-04 46</span></span>
<span id="cb52-170"><a href="ch6.html#cb52-170" tabindex="-1"></a><span class="do">## pref岡山県:year   -1.187790e-03  5.103456e-04 46</span></span>
<span id="cb52-171"><a href="ch6.html#cb52-171" tabindex="-1"></a><span class="do">## pref岩手県:year   -3.909419e-03  5.278429e-04 46</span></span>
<span id="cb52-172"><a href="ch6.html#cb52-172" tabindex="-1"></a><span class="do">## pref島根県:year   -2.471051e-03  5.422485e-03 46</span></span>
<span id="cb52-173"><a href="ch6.html#cb52-173" tabindex="-1"></a><span class="do">## pref広島県:year   -8.226808e-04 -1.048970e-04 46</span></span>
<span id="cb52-174"><a href="ch6.html#cb52-174" tabindex="-1"></a><span class="do">## pref徳島県:year   -1.312870e-03 -4.613879e-05 46</span></span>
<span id="cb52-175"><a href="ch6.html#cb52-175" tabindex="-1"></a><span class="do">## pref愛媛県:year   -3.687961e-04  1.121181e-03 46</span></span>
<span id="cb52-176"><a href="ch6.html#cb52-176" tabindex="-1"></a><span class="do">## pref愛知県:year   -7.048610e-04  6.534223e-04 46</span></span>
<span id="cb52-177"><a href="ch6.html#cb52-177" tabindex="-1"></a><span class="do">## pref新潟県:year   -3.013436e-03  6.915061e-06 46</span></span>
<span id="cb52-178"><a href="ch6.html#cb52-178" tabindex="-1"></a><span class="do">## pref東京都:year   -1.789623e-03  1.321914e-03 46</span></span>
<span id="cb52-179"><a href="ch6.html#cb52-179" tabindex="-1"></a><span class="do">## pref栃木県:year   -1.758985e-03 -1.506607e-03 46</span></span>
<span id="cb52-180"><a href="ch6.html#cb52-180" tabindex="-1"></a><span class="do">## pref沖縄県:year   -7.339945e-04  6.455710e-04 46</span></span>
<span id="cb52-181"><a href="ch6.html#cb52-181" tabindex="-1"></a><span class="do">## pref滋賀県:year   -9.881246e-04 -6.102217e-04 46</span></span>
<span id="cb52-182"><a href="ch6.html#cb52-182" tabindex="-1"></a><span class="do">## pref熊本県:year   -1.883563e-03 -1.608991e-03 46</span></span>
<span id="cb52-183"><a href="ch6.html#cb52-183" tabindex="-1"></a><span class="do">## pref石川県:year   -1.300887e-03  1.370469e-03 46</span></span>
<span id="cb52-184"><a href="ch6.html#cb52-184" tabindex="-1"></a><span class="do">## pref神奈川県:year  2.754034e-04  6.045459e-04 46</span></span>
<span id="cb52-185"><a href="ch6.html#cb52-185" tabindex="-1"></a><span class="do">## pref福井県:year   -3.438064e-03  3.986371e-04 46</span></span>
<span id="cb52-186"><a href="ch6.html#cb52-186" tabindex="-1"></a><span class="do">## pref福岡県:year   -1.173903e-03 -8.271570e-06 46</span></span>
<span id="cb52-187"><a href="ch6.html#cb52-187" tabindex="-1"></a><span class="do">## pref福島県:year   -5.903457e-03 -4.816479e-03 46</span></span>
<span id="cb52-188"><a href="ch6.html#cb52-188" tabindex="-1"></a><span class="do">## pref秋田県:year   -3.561715e-03  2.314725e-03 46</span></span>
<span id="cb52-189"><a href="ch6.html#cb52-189" tabindex="-1"></a><span class="do">## pref群馬県:year    1.276658e-03  3.832271e-03 46</span></span>
<span id="cb52-190"><a href="ch6.html#cb52-190" tabindex="-1"></a><span class="do">## pref茨城県:year   -1.280110e-03  7.727675e-05 46</span></span>
<span id="cb52-191"><a href="ch6.html#cb52-191" tabindex="-1"></a><span class="do">## pref長崎県:year   -8.674956e-04  1.884279e-03 46</span></span>
<span id="cb52-192"><a href="ch6.html#cb52-192" tabindex="-1"></a><span class="do">## pref長野県:year   -2.039145e-03  1.852443e-04 46</span></span>
<span id="cb52-193"><a href="ch6.html#cb52-193" tabindex="-1"></a><span class="do">## pref青森県:year   -1.201871e-03  3.106302e-03 46</span></span>
<span id="cb52-194"><a href="ch6.html#cb52-194" tabindex="-1"></a><span class="do">## pref静岡県:year   -9.601246e-04 -1.788930e-04 46</span></span>
<span id="cb52-195"><a href="ch6.html#cb52-195" tabindex="-1"></a><span class="do">## pref香川県:year    8.333897e-05  5.207410e-04 46</span></span>
<span id="cb52-196"><a href="ch6.html#cb52-196" tabindex="-1"></a><span class="do">## pref高知県:year   -3.810314e-03 -3.368463e-03 46</span></span>
<span id="cb52-197"><a href="ch6.html#cb52-197" tabindex="-1"></a><span class="do">## pref鳥取県:year   -1.456779e-03  9.646215e-05 46</span></span>
<span id="cb52-198"><a href="ch6.html#cb52-198" tabindex="-1"></a><span class="do">## pref鹿児島県:year  8.467530e-04  1.383934e-03 46</span></span>
<span id="cb52-199"><a href="ch6.html#cb52-199" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">+</span> <span class="fu">i</span>(pref) <span class="sc">+</span> <span class="fu">i</span>(year) <span class="sc">+</span> <span class="fu">i</span>(pref, year), <span class="at">vcov =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi)</span>
<span id="cb52-200"><a href="ch6.html#cb52-200" tabindex="-1"></a><span class="do">## The variable &#39;pref::鹿児島県:year&#39; has been removed because of collinearity (see $collin.var).</span></span>
<span id="cb52-201"><a href="ch6.html#cb52-201" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: emp.rate</span></span>
<span id="cb52-202"><a href="ch6.html#cb52-202" tabindex="-1"></a><span class="do">## Observations: 141</span></span>
<span id="cb52-203"><a href="ch6.html#cb52-203" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (pref) </span></span>
<span id="cb52-204"><a href="ch6.html#cb52-204" tabindex="-1"></a><span class="do">##                 Estimate Std. Error   t value   Pr(&gt;|t|)    </span></span>
<span id="cb52-205"><a href="ch6.html#cb52-205" tabindex="-1"></a><span class="do">## (Intercept)     2.230687   0.266870  8.358713 8.8010e-11 ***</span></span>
<span id="cb52-206"><a href="ch6.html#cb52-206" tabindex="-1"></a><span class="do">## cap.rate        0.091526   0.171194  0.534631 5.9548e-01    </span></span>
<span id="cb52-207"><a href="ch6.html#cb52-207" tabindex="-1"></a><span class="do">## pref::京都府   -2.871962   0.298021 -9.636775 1.3026e-12 ***</span></span>
<span id="cb52-208"><a href="ch6.html#cb52-208" tabindex="-1"></a><span class="do">## pref::佐賀県    2.217746   1.038863  2.134782 3.8139e-02 *  </span></span>
<span id="cb52-209"><a href="ch6.html#cb52-209" tabindex="-1"></a><span class="do">## pref::兵庫県   -1.674131   0.309675 -5.406097 2.2244e-06 ***</span></span>
<span id="cb52-210"><a href="ch6.html#cb52-210" tabindex="-1"></a><span class="do">## pref::北海道   -2.027188   0.371980 -5.449725 1.9169e-06 ***</span></span>
<span id="cb52-211"><a href="ch6.html#cb52-211" tabindex="-1"></a><span class="do">## pref::千葉県    1.008553   0.823589  1.224582 2.2697e-01    </span></span>
<span id="cb52-212"><a href="ch6.html#cb52-212" tabindex="-1"></a><span class="do">## pref::和歌山県 -2.425115   1.995858 -1.215074 2.3054e-01    </span></span>
<span id="cb52-213"><a href="ch6.html#cb52-213" tabindex="-1"></a><span class="do">## ... 88 coefficients remaining (display them with summary() or use argument n)</span></span>
<span id="cb52-214"><a href="ch6.html#cb52-214" tabindex="-1"></a><span class="do">## ... 1 variable was removed because of collinearity (pref::鹿児島県:year)</span></span>
<span id="cb52-215"><a href="ch6.html#cb52-215" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb52-216"><a href="ch6.html#cb52-216" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb52-217"><a href="ch6.html#cb52-217" tabindex="-1"></a><span class="do">## RMSE: 0.002324   Adj. R2: 0.998209</span></span>
<span id="cb52-218"><a href="ch6.html#cb52-218" tabindex="-1"></a><span class="co"># 係数の大きさは正しく, 速度も速い (はず) だが標準誤差が異なる.</span></span>
<span id="cb52-219"><a href="ch6.html#cb52-219" tabindex="-1"></a><span class="co"># feols(emp.rate ~ cap.rate | pref + year + pref[year], vcov = ~pref, data = yamaguchi)</span></span></code></pre></div>
</div>
<div id="table6-3" class="section level2 unnumbered hasAnchor">
<h2>表6-3 記述統計量<a href="ch6.html#table6-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>第5章の<a href="ch5.html#table5-5">表5-5</a>と同様に<code>datasummary()</code>を用いてデータフレームを書き出し, 適宜リネームを行えばよい.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="ch6.html#cb53-1" tabindex="-1"></a><span class="co"># 変数を選択</span></span>
<span id="cb53-2"><a href="ch6.html#cb53-2" tabindex="-1"></a>vars <span class="ot">&lt;-</span> yamaguchi <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="ch6.html#cb53-3" tabindex="-1"></a>    <span class="fu">select</span>(emp.rate, cap.rate, age, age.hus, emp.rate.hus, urate)</span>
<span id="cb53-4"><a href="ch6.html#cb53-4" tabindex="-1"></a>table63 <span class="ot">&lt;-</span> <span class="fu">datasummary</span>(<span class="fu">All</span>(vars) <span class="sc">~</span> N <span class="sc">+</span> Mean <span class="sc">+</span> SD <span class="sc">+</span> Min <span class="sc">+</span> Max,</span>
<span id="cb53-5"><a href="ch6.html#cb53-5" tabindex="-1"></a>            <span class="at">output =</span> <span class="st">&quot;data.frame&quot;</span>,</span>
<span id="cb53-6"><a href="ch6.html#cb53-6" tabindex="-1"></a>            <span class="at">data =</span> yamaguchi,</span>
<span id="cb53-7"><a href="ch6.html#cb53-7" tabindex="-1"></a>            <span class="at">fmt =</span> <span class="dv">3</span>)</span>
<span id="cb53-8"><a href="ch6.html#cb53-8" tabindex="-1"></a><span class="co"># 列名</span></span>
<span id="cb53-9"><a href="ch6.html#cb53-9" tabindex="-1"></a><span class="fu">colnames</span>(table63) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;変数&quot;</span>, <span class="st">&quot;サンプルサイズ&quot;</span>, <span class="st">&quot;平均&quot;</span>, <span class="st">&quot;標準偏差&quot;</span>, <span class="st">&quot;最小値&quot;</span>, <span class="st">&quot;最大値&quot;</span>)</span>
<span id="cb53-10"><a href="ch6.html#cb53-10" tabindex="-1"></a><span class="co"># 変数名</span></span>
<span id="cb53-11"><a href="ch6.html#cb53-11" tabindex="-1"></a>table63[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;母親就業率&quot;</span>, <span class="st">&quot;保育所定員率&quot;</span>, <span class="st">&quot;母親平均年齢&quot;</span>, <span class="st">&quot;父親平均年齢&quot;</span>, <span class="st">&quot;父親就業率&quot;</span>, <span class="st">&quot;失業率&quot;</span>)</span>
<span id="cb53-12"><a href="ch6.html#cb53-12" tabindex="-1"></a><span class="co"># 表を出力</span></span>
<span id="cb53-13"><a href="ch6.html#cb53-13" tabindex="-1"></a><span class="fu">gt</span>(table63)</span></code></pre></div>
<div id="uqwenpgsgp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#uqwenpgsgp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#uqwenpgsgp thead, #uqwenpgsgp tbody, #uqwenpgsgp tfoot, #uqwenpgsgp tr, #uqwenpgsgp td, #uqwenpgsgp th {
  border-style: none;
}

#uqwenpgsgp p {
  margin: 0;
  padding: 0;
}

#uqwenpgsgp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#uqwenpgsgp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#uqwenpgsgp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#uqwenpgsgp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#uqwenpgsgp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uqwenpgsgp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uqwenpgsgp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uqwenpgsgp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#uqwenpgsgp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#uqwenpgsgp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#uqwenpgsgp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#uqwenpgsgp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#uqwenpgsgp .gt_spanner_row {
  border-bottom-style: hidden;
}

#uqwenpgsgp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#uqwenpgsgp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#uqwenpgsgp .gt_from_md > :first-child {
  margin-top: 0;
}

#uqwenpgsgp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#uqwenpgsgp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#uqwenpgsgp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#uqwenpgsgp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#uqwenpgsgp .gt_row_group_first td {
  border-top-width: 2px;
}

#uqwenpgsgp .gt_row_group_first th {
  border-top-width: 2px;
}

#uqwenpgsgp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uqwenpgsgp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#uqwenpgsgp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#uqwenpgsgp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uqwenpgsgp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uqwenpgsgp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#uqwenpgsgp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#uqwenpgsgp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#uqwenpgsgp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uqwenpgsgp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uqwenpgsgp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uqwenpgsgp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uqwenpgsgp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uqwenpgsgp .gt_left {
  text-align: left;
}

#uqwenpgsgp .gt_center {
  text-align: center;
}

#uqwenpgsgp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#uqwenpgsgp .gt_font_normal {
  font-weight: normal;
}

#uqwenpgsgp .gt_font_bold {
  font-weight: bold;
}

#uqwenpgsgp .gt_font_italic {
  font-style: italic;
}

#uqwenpgsgp .gt_super {
  font-size: 65%;
}

#uqwenpgsgp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#uqwenpgsgp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#uqwenpgsgp .gt_indent_1 {
  text-indent: 5px;
}

#uqwenpgsgp .gt_indent_2 {
  text-indent: 10px;
}

#uqwenpgsgp .gt_indent_3 {
  text-indent: 15px;
}

#uqwenpgsgp .gt_indent_4 {
  text-indent: 20px;
}

#uqwenpgsgp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="変数">変数</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="サンプルサイズ">サンプルサイズ</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="平均">平均</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="標準偏差">標準偏差</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="最小値">最小値</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="最大値">最大値</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="変数" class="gt_row gt_left">母親就業率</td>
<td headers="サンプルサイズ" class="gt_row gt_right">141</td>
<td headers="平均" class="gt_row gt_right">0.431</td>
<td headers="標準偏差" class="gt_row gt_right">0.097</td>
<td headers="最小値" class="gt_row gt_right">0.229</td>
<td headers="最大値" class="gt_row gt_right">0.640</td></tr>
    <tr><td headers="変数" class="gt_row gt_left">保育所定員率</td>
<td headers="サンプルサイズ" class="gt_row gt_right">141</td>
<td headers="平均" class="gt_row gt_right">0.363</td>
<td headers="標準偏差" class="gt_row gt_right">0.115</td>
<td headers="最小値" class="gt_row gt_right">0.138</td>
<td headers="最大値" class="gt_row gt_right">0.655</td></tr>
    <tr><td headers="変数" class="gt_row gt_left">母親平均年齢</td>
<td headers="サンプルサイズ" class="gt_row gt_right">141</td>
<td headers="平均" class="gt_row gt_right">32.730</td>
<td headers="標準偏差" class="gt_row gt_right">0.670</td>
<td headers="最小値" class="gt_row gt_right">31.490</td>
<td headers="最大値" class="gt_row gt_right">34.764</td></tr>
    <tr><td headers="変数" class="gt_row gt_left">父親平均年齢</td>
<td headers="サンプルサイズ" class="gt_row gt_right">141</td>
<td headers="平均" class="gt_row gt_right">34.834</td>
<td headers="標準偏差" class="gt_row gt_right">0.531</td>
<td headers="最小値" class="gt_row gt_right">33.877</td>
<td headers="最大値" class="gt_row gt_right">36.859</td></tr>
    <tr><td headers="変数" class="gt_row gt_left">父親就業率</td>
<td headers="サンプルサイズ" class="gt_row gt_right">141</td>
<td headers="平均" class="gt_row gt_right">0.965</td>
<td headers="標準偏差" class="gt_row gt_right">0.018</td>
<td headers="最小値" class="gt_row gt_right">0.878</td>
<td headers="最大値" class="gt_row gt_right">0.989</td></tr>
    <tr><td headers="変数" class="gt_row gt_left">失業率</td>
<td headers="サンプルサイズ" class="gt_row gt_right">141</td>
<td headers="平均" class="gt_row gt_right">0.057</td>
<td headers="標準偏差" class="gt_row gt_right">0.015</td>
<td headers="最小値" class="gt_row gt_right">0.030</td>
<td headers="最大値" class="gt_row gt_right">0.119</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="表6-4-年ごとの記述統計量" class="section level2 unnumbered hasAnchor">
<h2>表6-4 年ごとの記述統計量<a href="ch6.html#表6-4-年ごとの記述統計量" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>やはり<code>datasummary()</code>を用いる. <code>formula</code>引数を適宜変更するだけで容易に作成できる.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="ch6.html#cb54-1" tabindex="-1"></a><span class="co"># 変数を選択</span></span>
<span id="cb54-2"><a href="ch6.html#cb54-2" tabindex="-1"></a>table64 <span class="ot">&lt;-</span> <span class="fu">datasummary</span>(emp.rate <span class="sc">*</span> (Mean <span class="sc">+</span> SD) <span class="sc">+</span> cap.rate <span class="sc">*</span> (Mean <span class="sc">+</span> SD) <span class="sc">~</span> <span class="fu">factor</span>(year),</span>
<span id="cb54-3"><a href="ch6.html#cb54-3" tabindex="-1"></a>            <span class="at">output =</span> <span class="st">&quot;data.frame&quot;</span>,</span>
<span id="cb54-4"><a href="ch6.html#cb54-4" tabindex="-1"></a>            <span class="at">data =</span> yamaguchi,</span>
<span id="cb54-5"><a href="ch6.html#cb54-5" tabindex="-1"></a>            <span class="at">fmt =</span> <span class="dv">3</span>)</span>
<span id="cb54-6"><a href="ch6.html#cb54-6" tabindex="-1"></a><span class="co"># 列名</span></span>
<span id="cb54-7"><a href="ch6.html#cb54-7" tabindex="-1"></a><span class="fu">colnames</span>(table64) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="st">&quot;変数&quot;</span>, <span class="st">&quot;2000&quot;</span>, <span class="st">&quot;2005&quot;</span>, <span class="st">&quot;2010&quot;</span>) <span class="co"># tibbleの都合上1列目は空白1文字とする</span></span>
<span id="cb54-8"><a href="ch6.html#cb54-8" tabindex="-1"></a><span class="co"># 変数名</span></span>
<span id="cb54-9"><a href="ch6.html#cb54-9" tabindex="-1"></a>table64[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;母親就業率&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;保育所定員率&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb54-10"><a href="ch6.html#cb54-10" tabindex="-1"></a><span class="co"># 統計量を日本語に直す</span></span>
<span id="cb54-11"><a href="ch6.html#cb54-11" tabindex="-1"></a>table64[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;平均&quot;</span>, <span class="st">&quot;標準偏差&quot;</span>, <span class="st">&quot;平均&quot;</span>, <span class="st">&quot;標準偏差&quot;</span>)</span>
<span id="cb54-12"><a href="ch6.html#cb54-12" tabindex="-1"></a><span class="co"># 表を出力</span></span>
<span id="cb54-13"><a href="ch6.html#cb54-13" tabindex="-1"></a><span class="fu">gt</span>(table64)</span></code></pre></div>
<div id="upqgqpjqyi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#upqgqpjqyi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#upqgqpjqyi thead, #upqgqpjqyi tbody, #upqgqpjqyi tfoot, #upqgqpjqyi tr, #upqgqpjqyi td, #upqgqpjqyi th {
  border-style: none;
}

#upqgqpjqyi p {
  margin: 0;
  padding: 0;
}

#upqgqpjqyi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#upqgqpjqyi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#upqgqpjqyi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#upqgqpjqyi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#upqgqpjqyi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#upqgqpjqyi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#upqgqpjqyi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#upqgqpjqyi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#upqgqpjqyi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#upqgqpjqyi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#upqgqpjqyi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#upqgqpjqyi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#upqgqpjqyi .gt_spanner_row {
  border-bottom-style: hidden;
}

#upqgqpjqyi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#upqgqpjqyi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#upqgqpjqyi .gt_from_md > :first-child {
  margin-top: 0;
}

#upqgqpjqyi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#upqgqpjqyi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#upqgqpjqyi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#upqgqpjqyi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#upqgqpjqyi .gt_row_group_first td {
  border-top-width: 2px;
}

#upqgqpjqyi .gt_row_group_first th {
  border-top-width: 2px;
}

#upqgqpjqyi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#upqgqpjqyi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#upqgqpjqyi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#upqgqpjqyi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#upqgqpjqyi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#upqgqpjqyi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#upqgqpjqyi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#upqgqpjqyi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#upqgqpjqyi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#upqgqpjqyi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#upqgqpjqyi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#upqgqpjqyi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#upqgqpjqyi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#upqgqpjqyi .gt_left {
  text-align: left;
}

#upqgqpjqyi .gt_center {
  text-align: center;
}

#upqgqpjqyi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#upqgqpjqyi .gt_font_normal {
  font-weight: normal;
}

#upqgqpjqyi .gt_font_bold {
  font-weight: bold;
}

#upqgqpjqyi .gt_font_italic {
  font-style: italic;
}

#upqgqpjqyi .gt_super {
  font-size: 65%;
}

#upqgqpjqyi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#upqgqpjqyi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#upqgqpjqyi .gt_indent_1 {
  text-indent: 5px;
}

#upqgqpjqyi .gt_indent_2 {
  text-indent: 10px;
}

#upqgqpjqyi .gt_indent_3 {
  text-indent: 15px;
}

#upqgqpjqyi .gt_indent_4 {
  text-indent: 20px;
}

#upqgqpjqyi .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=" "> </th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="変数">変数</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2000">2000</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2005">2005</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2010">2010</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers=" " class="gt_row gt_left">母親就業率</td>
<td headers="変数" class="gt_row gt_left">平均</td>
<td headers="2000" class="gt_row gt_right">0.392</td>
<td headers="2005" class="gt_row gt_right">0.430</td>
<td headers="2010" class="gt_row gt_right">0.471</td></tr>
    <tr><td headers=" " class="gt_row gt_left"></td>
<td headers="変数" class="gt_row gt_left">標準偏差</td>
<td headers="2000" class="gt_row gt_right">0.096</td>
<td headers="2005" class="gt_row gt_right">0.091</td>
<td headers="2010" class="gt_row gt_right">0.090</td></tr>
    <tr><td headers=" " class="gt_row gt_left">保育所定員率</td>
<td headers="変数" class="gt_row gt_left">平均</td>
<td headers="2000" class="gt_row gt_right">0.320</td>
<td headers="2005" class="gt_row gt_right">0.361</td>
<td headers="2010" class="gt_row gt_right">0.407</td></tr>
    <tr><td headers=" " class="gt_row gt_left"></td>
<td headers="変数" class="gt_row gt_left">標準偏差</td>
<td headers="2000" class="gt_row gt_right">0.102</td>
<td headers="2005" class="gt_row gt_right">0.110</td>
<td headers="2010" class="gt_row gt_right">0.119</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<div id="table6-5" class="section level2 unnumbered hasAnchor">
<h2>表6-5 推定結果<a href="ch6.html#table6-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>fixest::esttable()</code>を使うと<code>feols()</code>の推定結果を容易に表に出力できる.
それぞれのモデルについて, 固定効果の有無なども自動で記載されるため, 非常に強力である.</p>
<p>ただし, 上に記した通り都道府県効果<code>pref</code>を<code>formula</code>に加えるのではなく, パイプの後ろに固定効果として指定するとStataとは異なる標準誤差が出力される.
このため下の表のモデル(2), (4), (6)の標準誤差は教科書の表とは異なっている.
また, 表示の都合上<code>esttable()</code>が出力したデータフレームを直接編集している.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="ch6.html#cb55-1" tabindex="-1"></a>models_65 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;(1)&quot;</span> <span class="ot">=</span> <span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate, <span class="at">vcov =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi),</span>
<span id="cb55-2"><a href="ch6.html#cb55-2" tabindex="-1"></a>                  <span class="st">&quot;(2)&quot;</span> <span class="ot">=</span> <span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">|</span> pref, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi),</span>
<span id="cb55-3"><a href="ch6.html#cb55-3" tabindex="-1"></a>                  <span class="st">&quot;(3)&quot;</span> <span class="ot">=</span> <span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">|</span> year, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi),</span>
<span id="cb55-4"><a href="ch6.html#cb55-4" tabindex="-1"></a>                  <span class="st">&quot;(4)&quot;</span> <span class="ot">=</span> <span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">|</span> pref <span class="sc">+</span> year, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi),</span>
<span id="cb55-5"><a href="ch6.html#cb55-5" tabindex="-1"></a>                  <span class="st">&quot;(5)&quot;</span> <span class="ot">=</span> <span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">+</span> age <span class="sc">+</span> age.hus <span class="sc">+</span> emp.rate.hus <span class="sc">+</span> urate <span class="sc">|</span> year, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi),</span>
<span id="cb55-6"><a href="ch6.html#cb55-6" tabindex="-1"></a>                  <span class="st">&quot;(6)&quot;</span> <span class="ot">=</span> <span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">+</span> age <span class="sc">+</span> age.hus <span class="sc">+</span> emp.rate.hus <span class="sc">+</span> urate <span class="sc">|</span> pref <span class="sc">+</span> year, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi))</span>
<span id="cb55-7"><a href="ch6.html#cb55-7" tabindex="-1"></a>keep <span class="ot">=</span> <span class="st">&quot;%cap.rate|age|age.hus|emp.rate.hus|urate&quot;</span></span>
<span id="cb55-8"><a href="ch6.html#cb55-8" tabindex="-1"></a>dict <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;cap.rate&quot;</span> <span class="ot">=</span> <span class="st">&quot;保育所定員率&quot;</span>,</span>
<span id="cb55-9"><a href="ch6.html#cb55-9" tabindex="-1"></a>         <span class="st">&quot;age&quot;</span> <span class="ot">=</span> <span class="st">&quot;母親平均年齢&quot;</span>,</span>
<span id="cb55-10"><a href="ch6.html#cb55-10" tabindex="-1"></a>         <span class="st">&quot;age.hus&quot;</span> <span class="ot">=</span> <span class="st">&quot;父親平均年齢&quot;</span>,</span>
<span id="cb55-11"><a href="ch6.html#cb55-11" tabindex="-1"></a>         <span class="st">&quot;emp.rate.hus&quot;</span> <span class="ot">=</span> <span class="st">&quot;父親就業率&quot;</span>,</span>
<span id="cb55-12"><a href="ch6.html#cb55-12" tabindex="-1"></a>         <span class="st">&quot;urate&quot;</span> <span class="ot">=</span> <span class="st">&quot;失業率&quot;</span>,</span>
<span id="cb55-13"><a href="ch6.html#cb55-13" tabindex="-1"></a>         <span class="st">&quot;pref&quot;</span> <span class="ot">=</span> <span class="st">&quot;都道府県効果&quot;</span>,</span>
<span id="cb55-14"><a href="ch6.html#cb55-14" tabindex="-1"></a>         <span class="st">&quot;year&quot;</span> <span class="ot">=</span> <span class="st">&quot;年効果&quot;</span>)</span>
<span id="cb55-15"><a href="ch6.html#cb55-15" tabindex="-1"></a><span class="co"># 結果表をデータフレームで出力</span></span>
<span id="cb55-16"><a href="ch6.html#cb55-16" tabindex="-1"></a>table_65 <span class="ot">&lt;-</span> <span class="fu">esttable</span>(models_65,</span>
<span id="cb55-17"><a href="ch6.html#cb55-17" tabindex="-1"></a>       <span class="at">keep =</span> keep,</span>
<span id="cb55-18"><a href="ch6.html#cb55-18" tabindex="-1"></a>       <span class="at">dict =</span> dict,</span>
<span id="cb55-19"><a href="ch6.html#cb55-19" tabindex="-1"></a>       <span class="at">depvar =</span> <span class="cn">FALSE</span>,</span>
<span id="cb55-20"><a href="ch6.html#cb55-20" tabindex="-1"></a>       <span class="at">digits =</span> <span class="dv">3</span>,</span>
<span id="cb55-21"><a href="ch6.html#cb55-21" tabindex="-1"></a>       <span class="at">digits.stats =</span> <span class="dv">3</span>,</span>
<span id="cb55-22"><a href="ch6.html#cb55-22" tabindex="-1"></a>       <span class="at">fitstat =</span> <span class="sc">~</span> ar2 <span class="sc">+</span> n,</span>
<span id="cb55-23"><a href="ch6.html#cb55-23" tabindex="-1"></a>       <span class="at">se.below =</span> <span class="cn">TRUE</span>)</span>
<span id="cb55-24"><a href="ch6.html#cb55-24" tabindex="-1"></a><span class="co"># tibbleの都合上1列目の列名を空白1文字とする</span></span>
<span id="cb55-25"><a href="ch6.html#cb55-25" tabindex="-1"></a><span class="fu">colnames</span>(table_65)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb55-26"><a href="ch6.html#cb55-26" tabindex="-1"></a><span class="co"># gtで出力. データフレームの14行目 (下線) と15行目 (標準誤差が都道府県クラスター構造に頑健である旨) を削除</span></span>
<span id="cb55-27"><a href="ch6.html#cb55-27" tabindex="-1"></a><span class="fu">gt</span>(table_65[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">15</span>), ])</span></code></pre></div>
<div id="hioaledkks" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hioaledkks table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hioaledkks thead, #hioaledkks tbody, #hioaledkks tfoot, #hioaledkks tr, #hioaledkks td, #hioaledkks th {
  border-style: none;
}

#hioaledkks p {
  margin: 0;
  padding: 0;
}

#hioaledkks .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hioaledkks .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hioaledkks .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hioaledkks .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hioaledkks .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hioaledkks .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hioaledkks .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hioaledkks .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hioaledkks .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hioaledkks .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hioaledkks .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hioaledkks .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hioaledkks .gt_spanner_row {
  border-bottom-style: hidden;
}

#hioaledkks .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hioaledkks .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hioaledkks .gt_from_md > :first-child {
  margin-top: 0;
}

#hioaledkks .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hioaledkks .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hioaledkks .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hioaledkks .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hioaledkks .gt_row_group_first td {
  border-top-width: 2px;
}

#hioaledkks .gt_row_group_first th {
  border-top-width: 2px;
}

#hioaledkks .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hioaledkks .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hioaledkks .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hioaledkks .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hioaledkks .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hioaledkks .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hioaledkks .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hioaledkks .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hioaledkks .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hioaledkks .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hioaledkks .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hioaledkks .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hioaledkks .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hioaledkks .gt_left {
  text-align: left;
}

#hioaledkks .gt_center {
  text-align: center;
}

#hioaledkks .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hioaledkks .gt_font_normal {
  font-weight: normal;
}

#hioaledkks .gt_font_bold {
  font-weight: bold;
}

#hioaledkks .gt_font_italic {
  font-style: italic;
}

#hioaledkks .gt_super {
  font-size: 65%;
}

#hioaledkks .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hioaledkks .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hioaledkks .gt_indent_1 {
  text-indent: 5px;
}

#hioaledkks .gt_indent_2 {
  text-indent: 10px;
}

#hioaledkks .gt_indent_3 {
  text-indent: 15px;
}

#hioaledkks .gt_indent_4 {
  text-indent: 20px;
}

#hioaledkks .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=" "> </th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="(1)">(1)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="(2)">(2)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="(3)">(3)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="(4)">(4)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="(5)">(5)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="(6)">(6)</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers=" " class="gt_row gt_left">保育所定員率</td>
<td headers="(1)" class="gt_row gt_left"> 0.615***</td>
<td headers="(2)" class="gt_row gt_left"> 0.805***</td>
<td headers="(3)" class="gt_row gt_left"> 0.585***</td>
<td headers="(4)" class="gt_row gt_left"> 0.090 </td>
<td headers="(5)" class="gt_row gt_left"> 0.535***</td>
<td headers="(6)" class="gt_row gt_left"> 0.114  </td></tr>
    <tr><td headers=" " class="gt_row gt_left"></td>
<td headers="(1)" class="gt_row gt_left">(0.067)  </td>
<td headers="(2)" class="gt_row gt_left">(0.045)  </td>
<td headers="(3)" class="gt_row gt_left">(0.073)  </td>
<td headers="(4)" class="gt_row gt_left">(0.060)</td>
<td headers="(5)" class="gt_row gt_left">(0.068)  </td>
<td headers="(6)" class="gt_row gt_left">(0.059) </td></tr>
    <tr><td headers=" " class="gt_row gt_left">母親平均年齢</td>
<td headers="(1)" class="gt_row gt_left">         </td>
<td headers="(2)" class="gt_row gt_left">         </td>
<td headers="(3)" class="gt_row gt_left">         </td>
<td headers="(4)" class="gt_row gt_left">       </td>
<td headers="(5)" class="gt_row gt_left">-0.004   </td>
<td headers="(6)" class="gt_row gt_left">-0.027  </td></tr>
    <tr><td headers=" " class="gt_row gt_left"> </td>
<td headers="(1)" class="gt_row gt_left">         </td>
<td headers="(2)" class="gt_row gt_left">         </td>
<td headers="(3)" class="gt_row gt_left">         </td>
<td headers="(4)" class="gt_row gt_left">       </td>
<td headers="(5)" class="gt_row gt_left">(0.093)  </td>
<td headers="(6)" class="gt_row gt_left">(0.027) </td></tr>
    <tr><td headers=" " class="gt_row gt_left">父親平均年齢</td>
<td headers="(1)" class="gt_row gt_left">         </td>
<td headers="(2)" class="gt_row gt_left">         </td>
<td headers="(3)" class="gt_row gt_left">         </td>
<td headers="(4)" class="gt_row gt_left">       </td>
<td headers="(5)" class="gt_row gt_left">-0.051   </td>
<td headers="(6)" class="gt_row gt_left"> 0.041  </td></tr>
    <tr><td headers=" " class="gt_row gt_left">   </td>
<td headers="(1)" class="gt_row gt_left">         </td>
<td headers="(2)" class="gt_row gt_left">         </td>
<td headers="(3)" class="gt_row gt_left">         </td>
<td headers="(4)" class="gt_row gt_left">       </td>
<td headers="(5)" class="gt_row gt_left">(0.081)  </td>
<td headers="(6)" class="gt_row gt_left">(0.027) </td></tr>
    <tr><td headers=" " class="gt_row gt_left">父親就業率</td>
<td headers="(1)" class="gt_row gt_left">         </td>
<td headers="(2)" class="gt_row gt_left">         </td>
<td headers="(3)" class="gt_row gt_left">         </td>
<td headers="(4)" class="gt_row gt_left">       </td>
<td headers="(5)" class="gt_row gt_left"> 0.065   </td>
<td headers="(6)" class="gt_row gt_left"> 0.311* </td></tr>
    <tr><td headers=" " class="gt_row gt_left">    </td>
<td headers="(1)" class="gt_row gt_left">         </td>
<td headers="(2)" class="gt_row gt_left">         </td>
<td headers="(3)" class="gt_row gt_left">         </td>
<td headers="(4)" class="gt_row gt_left">       </td>
<td headers="(5)" class="gt_row gt_left">(0.440)  </td>
<td headers="(6)" class="gt_row gt_left">(0.128) </td></tr>
    <tr><td headers=" " class="gt_row gt_left">失業率</td>
<td headers="(1)" class="gt_row gt_left">         </td>
<td headers="(2)" class="gt_row gt_left">         </td>
<td headers="(3)" class="gt_row gt_left">         </td>
<td headers="(4)" class="gt_row gt_left">       </td>
<td headers="(5)" class="gt_row gt_left">-0.205   </td>
<td headers="(6)" class="gt_row gt_left">-0.661**</td></tr>
    <tr><td headers=" " class="gt_row gt_left">     </td>
<td headers="(1)" class="gt_row gt_left">         </td>
<td headers="(2)" class="gt_row gt_left">         </td>
<td headers="(3)" class="gt_row gt_left">         </td>
<td headers="(4)" class="gt_row gt_left">       </td>
<td headers="(5)" class="gt_row gt_left">(1.05)   </td>
<td headers="(6)" class="gt_row gt_left">(0.245) </td></tr>
    <tr><td headers=" " class="gt_row gt_left">Fixed-Effects:</td>
<td headers="(1)" class="gt_row gt_left">---------</td>
<td headers="(2)" class="gt_row gt_left">---------</td>
<td headers="(3)" class="gt_row gt_left">---------</td>
<td headers="(4)" class="gt_row gt_left">--------</td>
<td headers="(5)" class="gt_row gt_left">---------</td>
<td headers="(6)" class="gt_row gt_left">--------</td></tr>
    <tr><td headers=" " class="gt_row gt_left">都道府県効果</td>
<td headers="(1)" class="gt_row gt_left">No</td>
<td headers="(2)" class="gt_row gt_left">Yes</td>
<td headers="(3)" class="gt_row gt_left">No</td>
<td headers="(4)" class="gt_row gt_left">Yes</td>
<td headers="(5)" class="gt_row gt_left">No</td>
<td headers="(6)" class="gt_row gt_left">Yes</td></tr>
    <tr><td headers=" " class="gt_row gt_left">年効果</td>
<td headers="(1)" class="gt_row gt_left">No</td>
<td headers="(2)" class="gt_row gt_left">No</td>
<td headers="(3)" class="gt_row gt_left">Yes</td>
<td headers="(4)" class="gt_row gt_left">Yes</td>
<td headers="(5)" class="gt_row gt_left">Yes</td>
<td headers="(6)" class="gt_row gt_left">Yes</td></tr>
    <tr><td headers=" " class="gt_row gt_left">Adj. R2</td>
<td headers="(1)" class="gt_row gt_left">0.530</td>
<td headers="(2)" class="gt_row gt_left">0.975</td>
<td headers="(3)" class="gt_row gt_left">0.536</td>
<td headers="(4)" class="gt_row gt_left">0.992</td>
<td headers="(5)" class="gt_row gt_left">0.567</td>
<td headers="(6)" class="gt_row gt_left">0.994</td></tr>
    <tr><td headers=" " class="gt_row gt_left">Observations</td>
<td headers="(1)" class="gt_row gt_left">141</td>
<td headers="(2)" class="gt_row gt_left">141</td>
<td headers="(3)" class="gt_row gt_left">141</td>
<td headers="(4)" class="gt_row gt_left">141</td>
<td headers="(5)" class="gt_row gt_left">141</td>
<td headers="(6)" class="gt_row gt_left">141</td></tr>
  </tbody>
  
  
</table>
</div>
<!-- ## 練習問題 6-1 [確認] {-}

## 練習問題 6-2 [確認] {-}

## 練習問題 6-3 [確認] {-}

## 練習問題 6-4 [確認] {-}

## 練習問題 6-5 [確認] {-}

## 練習問題 6-6 [確認] {-}

## 練習問題 6-7 [確認] {-}

## 練習問題 6-8 [発展] {-}

## 練習問題 6-9 [発展] {-} -->
</div>
<div id="練習問題-6-10-実証" class="section level2 unnumbered hasAnchor">
<h2>練習問題 6-10 [実証]<a href="ch6.html#練習問題-6-10-実証" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p><a href="ch6.html#table6-5">表6-5</a>を参照せよ.</p></li>
<li><p>この問題では, クラスター構造に頑健な標準誤差がStataでの出力と同じになるように, <code>pref</code>を<code>formula</code>に加える.
1つめの式ではクラスター構造に頑健な標準誤差を, 2つめでは不均一分散に頑健な標準誤差を指定している.
結果を比較すると, 後者では標準誤差が小さくなっており, より係数が有意になりやすいことがわかる.</p></li>
</ol>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="ch6.html#cb56-1" tabindex="-1"></a><span class="co"># クラスター構造に頑健な標準誤差</span></span>
<span id="cb56-2"><a href="ch6.html#cb56-2" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">+</span> age <span class="sc">+</span> age.hus <span class="sc">+</span> emp.rate.hus <span class="sc">+</span> urate <span class="sc">+</span> pref <span class="sc">|</span> year, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi)</span>
<span id="cb56-3"><a href="ch6.html#cb56-3" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: emp.rate</span></span>
<span id="cb56-4"><a href="ch6.html#cb56-4" tabindex="-1"></a><span class="do">## Observations: 141</span></span>
<span id="cb56-5"><a href="ch6.html#cb56-5" tabindex="-1"></a><span class="do">## Fixed-effects: year: 3</span></span>
<span id="cb56-6"><a href="ch6.html#cb56-6" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (pref) </span></span>
<span id="cb56-7"><a href="ch6.html#cb56-7" tabindex="-1"></a><span class="do">##               Estimate Std. Error   t value   Pr(&gt;|t|)    </span></span>
<span id="cb56-8"><a href="ch6.html#cb56-8" tabindex="-1"></a><span class="do">## cap.rate      0.114025   0.073138  1.559034 1.2584e-01    </span></span>
<span id="cb56-9"><a href="ch6.html#cb56-9" tabindex="-1"></a><span class="do">## age          -0.026613   0.033927 -0.784428 4.3681e-01    </span></span>
<span id="cb56-10"><a href="ch6.html#cb56-10" tabindex="-1"></a><span class="do">## age.hus       0.040877   0.033406  1.223633 2.2732e-01    </span></span>
<span id="cb56-11"><a href="ch6.html#cb56-11" tabindex="-1"></a><span class="do">## emp.rate.hus  0.311072   0.157654  1.973137 5.4506e-02 .  </span></span>
<span id="cb56-12"><a href="ch6.html#cb56-12" tabindex="-1"></a><span class="do">## urate        -0.661263   0.303327 -2.180030 3.4410e-02 *  </span></span>
<span id="cb56-13"><a href="ch6.html#cb56-13" tabindex="-1"></a><span class="do">## pref京都府   -0.029676   0.008433 -3.519164 9.8761e-04 ***</span></span>
<span id="cb56-14"><a href="ch6.html#cb56-14" tabindex="-1"></a><span class="do">## pref佐賀県    0.110860   0.004697 23.601944  &lt; 2.2e-16 ***</span></span>
<span id="cb56-15"><a href="ch6.html#cb56-15" tabindex="-1"></a><span class="do">## pref兵庫県   -0.072914   0.013321 -5.473527 1.7673e-06 ***</span></span>
<span id="cb56-16"><a href="ch6.html#cb56-16" tabindex="-1"></a><span class="do">## ... 43 coefficients remaining (display them with summary() or use argument n)</span></span>
<span id="cb56-17"><a href="ch6.html#cb56-17" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb56-18"><a href="ch6.html#cb56-18" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb56-19"><a href="ch6.html#cb56-19" tabindex="-1"></a><span class="do">## RMSE: 0.006095     Adj. R2: 0.993628</span></span>
<span id="cb56-20"><a href="ch6.html#cb56-20" tabindex="-1"></a><span class="do">##                  Within R2: 0.995548</span></span>
<span id="cb56-21"><a href="ch6.html#cb56-21" tabindex="-1"></a><span class="co"># 不均一分散に頑健な標準誤差</span></span>
<span id="cb56-22"><a href="ch6.html#cb56-22" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">+</span> age <span class="sc">+</span> age.hus <span class="sc">+</span> emp.rate.hus <span class="sc">+</span> urate <span class="sc">+</span> pref <span class="sc">|</span> year, <span class="at">vcov =</span> <span class="st">&quot;HC1&quot;</span>, <span class="at">data =</span> yamaguchi)</span>
<span id="cb56-23"><a href="ch6.html#cb56-23" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: emp.rate</span></span>
<span id="cb56-24"><a href="ch6.html#cb56-24" tabindex="-1"></a><span class="do">## Observations: 141</span></span>
<span id="cb56-25"><a href="ch6.html#cb56-25" tabindex="-1"></a><span class="do">## Fixed-effects: year: 3</span></span>
<span id="cb56-26"><a href="ch6.html#cb56-26" tabindex="-1"></a><span class="do">## Standard-errors: Heteroskedasticity-robust </span></span>
<span id="cb56-27"><a href="ch6.html#cb56-27" tabindex="-1"></a><span class="do">##               Estimate Std. Error   t value   Pr(&gt;|t|)    </span></span>
<span id="cb56-28"><a href="ch6.html#cb56-28" tabindex="-1"></a><span class="do">## cap.rate      0.114025   0.054071  2.108803 3.7836e-02 *  </span></span>
<span id="cb56-29"><a href="ch6.html#cb56-29" tabindex="-1"></a><span class="do">## age          -0.026613   0.027364 -0.972575 3.3346e-01    </span></span>
<span id="cb56-30"><a href="ch6.html#cb56-30" tabindex="-1"></a><span class="do">## age.hus       0.040877   0.026572  1.538379 1.2759e-01    </span></span>
<span id="cb56-31"><a href="ch6.html#cb56-31" tabindex="-1"></a><span class="do">## emp.rate.hus  0.311072   0.119656  2.599725 1.0960e-02 *  </span></span>
<span id="cb56-32"><a href="ch6.html#cb56-32" tabindex="-1"></a><span class="do">## urate        -0.661263   0.252404 -2.619855 1.0379e-02 *  </span></span>
<span id="cb56-33"><a href="ch6.html#cb56-33" tabindex="-1"></a><span class="do">## pref京都府   -0.029676   0.007018 -4.228551 5.7908e-05 ***</span></span>
<span id="cb56-34"><a href="ch6.html#cb56-34" tabindex="-1"></a><span class="do">## pref佐賀県    0.110860   0.004351 25.480523  &lt; 2.2e-16 ***</span></span>
<span id="cb56-35"><a href="ch6.html#cb56-35" tabindex="-1"></a><span class="do">## pref兵庫県   -0.072914   0.010557 -6.906876 7.7402e-10 ***</span></span>
<span id="cb56-36"><a href="ch6.html#cb56-36" tabindex="-1"></a><span class="do">## ... 43 coefficients remaining (display them with summary() or use argument n)</span></span>
<span id="cb56-37"><a href="ch6.html#cb56-37" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb56-38"><a href="ch6.html#cb56-38" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb56-39"><a href="ch6.html#cb56-39" tabindex="-1"></a><span class="do">## RMSE: 0.006095     Adj. R2: 0.993628</span></span>
<span id="cb56-40"><a href="ch6.html#cb56-40" tabindex="-1"></a><span class="do">##                  Within R2: 0.995548</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li><code>feols()</code>で推定したモデルを<code>r2()</code>に渡して実行することで, そのモデルの様々な決定係数を得ることができる.
特に, 固定効果推定の全体での自由度修正済み決定係数は<code>ar2</code> (<code>a</code>は”adjusted”を示す), 個体内変動に基づく自由度修正済み決定係数は<code>war2</code> (<code>w</code>は”within”)の欄を見ればよい.
これら2つの値は12%ほど異なり, 後者のほうが小さいことがわかる.</li>
</ol>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="ch6.html#cb57-1" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">|</span> pref, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi) <span class="sc">%&gt;%</span> <span class="fu">r2</span>()</span>
<span id="cb57-2"><a href="ch6.html#cb57-2" tabindex="-1"></a><span class="do">##       cor2         r2        ar2        pr2       apr2        wr2       war2 </span></span>
<span id="cb57-3"><a href="ch6.html#cb57-3" tabindex="-1"></a><span class="do">##  0.9836397  0.9836397  0.9753715 -2.2459907 -1.8819340  0.8590344  0.8575186 </span></span>
<span id="cb57-4"><a href="ch6.html#cb57-4" tabindex="-1"></a><span class="do">##       wpr2      wapr2 </span></span>
<span id="cb57-5"><a href="ch6.html#cb57-5" tabindex="-1"></a><span class="do">## -0.4916692 -0.4881097</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>前問と同様にする.
前者の決定係数ではほぼ1近いのに対し, 後者はたった2.8%に過ぎないことがわかる.</li>
</ol>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="ch6.html#cb58-1" tabindex="-1"></a><span class="fu">feols</span>(emp.rate <span class="sc">~</span> cap.rate <span class="sc">|</span> pref <span class="sc">+</span> year, <span class="at">cluster =</span> <span class="sc">~</span>pref, <span class="at">data =</span> yamaguchi) <span class="sc">%&gt;%</span> <span class="fu">r2</span>()</span>
<span id="cb58-2"><a href="ch6.html#cb58-2" tabindex="-1"></a><span class="do">##         cor2           r2          ar2          pr2         apr2          wr2 </span></span>
<span id="cb58-3"><a href="ch6.html#cb58-3" tabindex="-1"></a><span class="do">##  0.994616477  0.994616477  0.991717656 -2.852973160 -2.473424718  0.027756337 </span></span>
<span id="cb58-4"><a href="ch6.html#cb58-4" tabindex="-1"></a><span class="do">##         war2         wpr2        wapr2 </span></span>
<span id="cb58-5"><a href="ch6.html#cb58-5" tabindex="-1"></a><span class="do">##  0.017072341 -0.004005536 -0.001987117</span></span></code></pre></div>
</div>
<div id="練習問題-6-11-実証" class="section level2 unnumbered hasAnchor">
<h2>練習問題 6-11 [実証]<a href="ch6.html#練習問題-6-11-実証" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>まずはデータを読み込む.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="ch6.html#cb59-1" tabindex="-1"></a>timss <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;data/06_第6章/timss.dta&quot;</span>)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li><code>lm_robust()</code>では, <code>clusters = idschool</code>, <code>se_type = "stata"</code>とすればよい.
一方で<code>feols()</code>では, <code>cluster</code>引数に<code>idschool</code>を指定すればクラスター構造に頑健な標準誤差が得られる.</li>
</ol>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="ch6.html#cb60-1" tabindex="-1"></a><span class="fu">lm_robust</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4, <span class="at">clusters =</span> idschool, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>, <span class="at">data =</span> timss)</span>
<span id="cb60-2"><a href="ch6.html#cb60-2" tabindex="-1"></a><span class="do">##                Estimate Std. Error     t value      Pr(&gt;|t|)    CI Lower</span></span>
<span id="cb60-3"><a href="ch6.html#cb60-3" tabindex="-1"></a><span class="do">## (Intercept) 150.3634168  0.4695780 320.2096684 1.092624e-203 149.4350933</span></span>
<span id="cb60-4"><a href="ch6.html#cb60-4" tabindex="-1"></a><span class="do">## agese_q2      0.1742963  0.4375446   0.3983509  6.909741e-01  -0.6906994</span></span>
<span id="cb60-5"><a href="ch6.html#cb60-5" tabindex="-1"></a><span class="do">## agese_q3     -0.3462258  0.4578970  -0.7561216  4.508377e-01  -1.2514569</span></span>
<span id="cb60-6"><a href="ch6.html#cb60-6" tabindex="-1"></a><span class="do">## agese_q4     -1.5581051  0.4423772  -3.5221192  5.772791e-04  -2.4326544</span></span>
<span id="cb60-7"><a href="ch6.html#cb60-7" tabindex="-1"></a><span class="do">##                CI Upper  DF</span></span>
<span id="cb60-8"><a href="ch6.html#cb60-8" tabindex="-1"></a><span class="do">## (Intercept) 151.2917404 141</span></span>
<span id="cb60-9"><a href="ch6.html#cb60-9" tabindex="-1"></a><span class="do">## agese_q2      1.0392919 141</span></span>
<span id="cb60-10"><a href="ch6.html#cb60-10" tabindex="-1"></a><span class="do">## agese_q3      0.5590053 141</span></span>
<span id="cb60-11"><a href="ch6.html#cb60-11" tabindex="-1"></a><span class="do">## agese_q4     -0.6835557 141</span></span>
<span id="cb60-12"><a href="ch6.html#cb60-12" tabindex="-1"></a><span class="fu">feols</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4, <span class="at">cluster =</span> <span class="sc">~</span> idschool, <span class="at">data =</span> timss)</span>
<span id="cb60-13"><a href="ch6.html#cb60-13" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: mathscore</span></span>
<span id="cb60-14"><a href="ch6.html#cb60-14" tabindex="-1"></a><span class="do">## Observations: 4,536</span></span>
<span id="cb60-15"><a href="ch6.html#cb60-15" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (idschool) </span></span>
<span id="cb60-16"><a href="ch6.html#cb60-16" tabindex="-1"></a><span class="do">##               Estimate Std. Error    t value   Pr(&gt;|t|)    </span></span>
<span id="cb60-17"><a href="ch6.html#cb60-17" tabindex="-1"></a><span class="do">## (Intercept) 150.363417   0.469578 320.209668  &lt; 2.2e-16 ***</span></span>
<span id="cb60-18"><a href="ch6.html#cb60-18" tabindex="-1"></a><span class="do">## agese_q2      0.174296   0.437545   0.398351 0.69097411    </span></span>
<span id="cb60-19"><a href="ch6.html#cb60-19" tabindex="-1"></a><span class="do">## agese_q3     -0.346226   0.457897  -0.756122 0.45083772    </span></span>
<span id="cb60-20"><a href="ch6.html#cb60-20" tabindex="-1"></a><span class="do">## agese_q4     -1.558105   0.442377  -3.522119 0.00057728 ***</span></span>
<span id="cb60-21"><a href="ch6.html#cb60-21" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb60-22"><a href="ch6.html#cb60-22" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb60-23"><a href="ch6.html#cb60-23" tabindex="-1"></a><span class="do">## RMSE: 9.90955   Adj. R2: 0.00378</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><code>feols()</code>では上述の通りパイプ<code>|</code>の後ろに固定効果変数を追加するとStataとは異なる標準誤差を得る.
下の例では代わりに<code>formula</code>中に直接固定効果変数を追加することで, Stataと同等の標準誤差を得られた.</li>
</ol>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="ch6.html#cb61-1" tabindex="-1"></a><span class="fu">lm_robust</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4, <span class="at">fixed_effects =</span> idschool, <span class="at">clusters =</span> idschool, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>, <span class="at">data =</span> timss)</span>
<span id="cb61-2"><a href="ch6.html#cb61-2" tabindex="-1"></a><span class="do">##            Estimate Std. Error    t value     Pr(&gt;|t|)   CI Lower   CI Upper</span></span>
<span id="cb61-3"><a href="ch6.html#cb61-3" tabindex="-1"></a><span class="do">## agese_q2  0.1458291  0.4178663  0.3489852 0.7276210466 -0.6802639  0.9719222</span></span>
<span id="cb61-4"><a href="ch6.html#cb61-4" tabindex="-1"></a><span class="do">## agese_q3 -0.4090921  0.4517316 -0.9056088 0.3666878222 -1.3021345  0.4839503</span></span>
<span id="cb61-5"><a href="ch6.html#cb61-5" tabindex="-1"></a><span class="do">## agese_q4 -1.4240215  0.4135541 -3.4433743 0.0007566893 -2.2415895 -0.6064534</span></span>
<span id="cb61-6"><a href="ch6.html#cb61-6" tabindex="-1"></a><span class="do">##           DF</span></span>
<span id="cb61-7"><a href="ch6.html#cb61-7" tabindex="-1"></a><span class="do">## agese_q2 141</span></span>
<span id="cb61-8"><a href="ch6.html#cb61-8" tabindex="-1"></a><span class="do">## agese_q3 141</span></span>
<span id="cb61-9"><a href="ch6.html#cb61-9" tabindex="-1"></a><span class="do">## agese_q4 141</span></span>
<span id="cb61-10"><a href="ch6.html#cb61-10" tabindex="-1"></a><span class="fu">feols</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4 <span class="sc">+</span> <span class="fu">factor</span>(idschool), <span class="at">cluster =</span> <span class="sc">~</span> idschool, <span class="at">data =</span> timss)</span>
<span id="cb61-11"><a href="ch6.html#cb61-11" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: mathscore</span></span>
<span id="cb61-12"><a href="ch6.html#cb61-12" tabindex="-1"></a><span class="do">## Observations: 4,536</span></span>
<span id="cb61-13"><a href="ch6.html#cb61-13" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (idschool) </span></span>
<span id="cb61-14"><a href="ch6.html#cb61-14" tabindex="-1"></a><span class="do">##                     Estimate Std. Error    t value   Pr(&gt;|t|)    </span></span>
<span id="cb61-15"><a href="ch6.html#cb61-15" tabindex="-1"></a><span class="do">## (Intercept)       152.075272   0.271515 560.098853  &lt; 2.2e-16 ***</span></span>
<span id="cb61-16"><a href="ch6.html#cb61-16" tabindex="-1"></a><span class="do">## agese_q2            0.145829   0.417866   0.348985 0.72762105    </span></span>
<span id="cb61-17"><a href="ch6.html#cb61-17" tabindex="-1"></a><span class="do">## agese_q3           -0.409092   0.451732  -0.905609 0.36668782    </span></span>
<span id="cb61-18"><a href="ch6.html#cb61-18" tabindex="-1"></a><span class="do">## agese_q4           -1.424021   0.413554  -3.443374 0.00075669 ***</span></span>
<span id="cb61-19"><a href="ch6.html#cb61-19" tabindex="-1"></a><span class="do">## factor(idschool)2  -0.395631   0.019829 -19.952252  &lt; 2.2e-16 ***</span></span>
<span id="cb61-20"><a href="ch6.html#cb61-20" tabindex="-1"></a><span class="do">## factor(idschool)3  -3.670083   0.048345 -75.915192  &lt; 2.2e-16 ***</span></span>
<span id="cb61-21"><a href="ch6.html#cb61-21" tabindex="-1"></a><span class="do">## factor(idschool)4  -1.488299   0.023013 -64.671465  &lt; 2.2e-16 ***</span></span>
<span id="cb61-22"><a href="ch6.html#cb61-22" tabindex="-1"></a><span class="do">## factor(idschool)5   0.621102   0.055966  11.097876  &lt; 2.2e-16 ***</span></span>
<span id="cb61-23"><a href="ch6.html#cb61-23" tabindex="-1"></a><span class="do">## ... 137 coefficients remaining (display them with summary() or use argument n)</span></span>
<span id="cb61-24"><a href="ch6.html#cb61-24" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb61-25"><a href="ch6.html#cb61-25" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb61-26"><a href="ch6.html#cb61-26" tabindex="-1"></a><span class="do">## RMSE: 9.13991   Adj. R2: 0.125303</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>前章の練習問題5-15 (d)で推定したモデルについて, クラスター構造に頑健な標準誤差を求める.</li>
</ol>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="ch6.html#cb62-1" tabindex="-1"></a><span class="fu">lm_robust</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4 <span class="sc">+</span> comu_1 <span class="sc">+</span> comu_2 <span class="sc">+</span> comu_3 <span class="sc">+</span> comu_4 <span class="sc">+</span> comu_5 <span class="sc">+</span> computer <span class="sc">+</span> numpeople <span class="sc">+</span> mothereduc_1 <span class="sc">+</span> mothereduc_2 <span class="sc">+</span> mothereduc_3 <span class="sc">+</span> mothereduc_4 <span class="sc">+</span> mothereduc_5 <span class="sc">+</span> fathereduc_1 <span class="sc">+</span> fathereduc_2 <span class="sc">+</span> fathereduc_3 <span class="sc">+</span> fathereduc_4 <span class="sc">+</span> fathereduc_5, <span class="at">clusters =</span> idschool, <span class="at">data =</span> timss, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>)</span>
<span id="cb62-2"><a href="ch6.html#cb62-2" tabindex="-1"></a><span class="do">##                  Estimate Std. Error      t value      Pr(&gt;|t|)    CI Lower</span></span>
<span id="cb62-3"><a href="ch6.html#cb62-3" tabindex="-1"></a><span class="do">## (Intercept)  146.79775016  0.8550353 171.68618633 1.269793e-165 145.1074039</span></span>
<span id="cb62-4"><a href="ch6.html#cb62-4" tabindex="-1"></a><span class="do">## agese_q2       0.21758161  0.4077706   0.53358827  5.944666e-01  -0.5885529</span></span>
<span id="cb62-5"><a href="ch6.html#cb62-5" tabindex="-1"></a><span class="do">## agese_q3      -0.46008503  0.4246048  -1.08356058  2.804091e-01  -1.2994996</span></span>
<span id="cb62-6"><a href="ch6.html#cb62-6" tabindex="-1"></a><span class="do">## agese_q4      -1.33572852  0.4024301  -3.31915634  1.149204e-03  -2.1313053</span></span>
<span id="cb62-7"><a href="ch6.html#cb62-7" tabindex="-1"></a><span class="do">## comu_1         1.89427862  0.6814924   2.77960343  6.185559e-03   0.5470148</span></span>
<span id="cb62-8"><a href="ch6.html#cb62-8" tabindex="-1"></a><span class="do">## comu_2         1.43919896  0.4257504   3.38038211  9.365940e-04   0.5975196</span></span>
<span id="cb62-9"><a href="ch6.html#cb62-9" tabindex="-1"></a><span class="do">## comu_3         0.05791885  0.7038745   0.08228576  9.345362e-01  -1.3335929</span></span>
<span id="cb62-10"><a href="ch6.html#cb62-10" tabindex="-1"></a><span class="do">## comu_4         0.76623098  0.4864055   1.57529266  1.174300e-01  -0.1953593</span></span>
<span id="cb62-11"><a href="ch6.html#cb62-11" tabindex="-1"></a><span class="do">## comu_5         1.55246234  1.0611039   1.46306348  1.456756e-01  -0.5452673</span></span>
<span id="cb62-12"><a href="ch6.html#cb62-12" tabindex="-1"></a><span class="do">## computer       2.48778703  0.3973480   6.26097814  4.332497e-09   1.7022573</span></span>
<span id="cb62-13"><a href="ch6.html#cb62-13" tabindex="-1"></a><span class="do">## numpeople     -0.23975373  0.1087898  -2.20382479  2.915881e-02  -0.4548238</span></span>
<span id="cb62-14"><a href="ch6.html#cb62-14" tabindex="-1"></a><span class="do">## mothereduc_1  -2.73521340  0.9237553  -2.96097179  3.599380e-03  -4.5614144</span></span>
<span id="cb62-15"><a href="ch6.html#cb62-15" tabindex="-1"></a><span class="do">## mothereduc_2  -0.32542923  0.4597539  -0.70783350  4.802171e-01  -1.2343313</span></span>
<span id="cb62-16"><a href="ch6.html#cb62-16" tabindex="-1"></a><span class="do">## mothereduc_3   1.67462212  0.4724270   3.54472120  5.337006e-04   0.7406662</span></span>
<span id="cb62-17"><a href="ch6.html#cb62-17" tabindex="-1"></a><span class="do">## mothereduc_4   2.39516176  0.6490408   3.69031022  3.191428e-04   1.1120526</span></span>
<span id="cb62-18"><a href="ch6.html#cb62-18" tabindex="-1"></a><span class="do">## mothereduc_5  -1.37821743  2.3276215  -0.59211407  5.547225e-01  -5.9797657</span></span>
<span id="cb62-19"><a href="ch6.html#cb62-19" tabindex="-1"></a><span class="do">## fathereduc_1  -2.58790917  0.8562245  -3.02246553  2.978836e-03  -4.2806064</span></span>
<span id="cb62-20"><a href="ch6.html#cb62-20" tabindex="-1"></a><span class="do">## fathereduc_2  -0.32780040  0.4118255  -0.79596915  4.273880e-01  -1.1419512</span></span>
<span id="cb62-21"><a href="ch6.html#cb62-21" tabindex="-1"></a><span class="do">## fathereduc_3   0.20087590  0.7067773   0.28421385  7.766635e-01  -1.1963744</span></span>
<span id="cb62-22"><a href="ch6.html#cb62-22" tabindex="-1"></a><span class="do">## fathereduc_4   3.13269081  0.4727437   6.62661627  6.735789e-10   2.1981090</span></span>
<span id="cb62-23"><a href="ch6.html#cb62-23" tabindex="-1"></a><span class="do">## fathereduc_5   6.59377558  1.4705261   4.48395677  1.506130e-05   3.6866462</span></span>
<span id="cb62-24"><a href="ch6.html#cb62-24" tabindex="-1"></a><span class="do">##                  CI Upper  DF</span></span>
<span id="cb62-25"><a href="ch6.html#cb62-25" tabindex="-1"></a><span class="do">## (Intercept)  148.48809637 141</span></span>
<span id="cb62-26"><a href="ch6.html#cb62-26" tabindex="-1"></a><span class="do">## agese_q2       1.02371615 141</span></span>
<span id="cb62-27"><a href="ch6.html#cb62-27" tabindex="-1"></a><span class="do">## agese_q3       0.37932958 141</span></span>
<span id="cb62-28"><a href="ch6.html#cb62-28" tabindex="-1"></a><span class="do">## agese_q4      -0.54015172 141</span></span>
<span id="cb62-29"><a href="ch6.html#cb62-29" tabindex="-1"></a><span class="do">## comu_1         3.24154241 141</span></span>
<span id="cb62-30"><a href="ch6.html#cb62-30" tabindex="-1"></a><span class="do">## comu_2         2.28087828 141</span></span>
<span id="cb62-31"><a href="ch6.html#cb62-31" tabindex="-1"></a><span class="do">## comu_3         1.44943061 141</span></span>
<span id="cb62-32"><a href="ch6.html#cb62-32" tabindex="-1"></a><span class="do">## comu_4         1.72782129 141</span></span>
<span id="cb62-33"><a href="ch6.html#cb62-33" tabindex="-1"></a><span class="do">## comu_5         3.65019203 141</span></span>
<span id="cb62-34"><a href="ch6.html#cb62-34" tabindex="-1"></a><span class="do">## computer       3.27331677 141</span></span>
<span id="cb62-35"><a href="ch6.html#cb62-35" tabindex="-1"></a><span class="do">## numpeople     -0.02468368 141</span></span>
<span id="cb62-36"><a href="ch6.html#cb62-36" tabindex="-1"></a><span class="do">## mothereduc_1  -0.90901245 141</span></span>
<span id="cb62-37"><a href="ch6.html#cb62-37" tabindex="-1"></a><span class="do">## mothereduc_2   0.58347279 141</span></span>
<span id="cb62-38"><a href="ch6.html#cb62-38" tabindex="-1"></a><span class="do">## mothereduc_3   2.60857799 141</span></span>
<span id="cb62-39"><a href="ch6.html#cb62-39" tabindex="-1"></a><span class="do">## mothereduc_4   3.67827088 141</span></span>
<span id="cb62-40"><a href="ch6.html#cb62-40" tabindex="-1"></a><span class="do">## mothereduc_5   3.22333080 141</span></span>
<span id="cb62-41"><a href="ch6.html#cb62-41" tabindex="-1"></a><span class="do">## fathereduc_1  -0.89521191 141</span></span>
<span id="cb62-42"><a href="ch6.html#cb62-42" tabindex="-1"></a><span class="do">## fathereduc_2   0.48635041 141</span></span>
<span id="cb62-43"><a href="ch6.html#cb62-43" tabindex="-1"></a><span class="do">## fathereduc_3   1.59812619 141</span></span>
<span id="cb62-44"><a href="ch6.html#cb62-44" tabindex="-1"></a><span class="do">## fathereduc_4   4.06727264 141</span></span>
<span id="cb62-45"><a href="ch6.html#cb62-45" tabindex="-1"></a><span class="do">## fathereduc_5   9.50090498 141</span></span>
<span id="cb62-46"><a href="ch6.html#cb62-46" tabindex="-1"></a><span class="fu">feols</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4 <span class="sc">+</span> comu_1 <span class="sc">+</span> comu_2 <span class="sc">+</span> comu_3 <span class="sc">+</span> comu_4 <span class="sc">+</span> comu_5 <span class="sc">+</span> computer <span class="sc">+</span> numpeople <span class="sc">+</span> mothereduc_1 <span class="sc">+</span> mothereduc_2 <span class="sc">+</span> mothereduc_3 <span class="sc">+</span> mothereduc_4 <span class="sc">+</span> mothereduc_5 <span class="sc">+</span> fathereduc_1 <span class="sc">+</span> fathereduc_2 <span class="sc">+</span> fathereduc_3 <span class="sc">+</span> fathereduc_4 <span class="sc">+</span> fathereduc_5, <span class="at">cluster =</span> <span class="sc">~</span>idschool, <span class="at">data =</span> timss)</span>
<span id="cb62-47"><a href="ch6.html#cb62-47" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: mathscore</span></span>
<span id="cb62-48"><a href="ch6.html#cb62-48" tabindex="-1"></a><span class="do">## Observations: 4,536</span></span>
<span id="cb62-49"><a href="ch6.html#cb62-49" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (idschool) </span></span>
<span id="cb62-50"><a href="ch6.html#cb62-50" tabindex="-1"></a><span class="do">##               Estimate Std. Error    t value   Pr(&gt;|t|)    </span></span>
<span id="cb62-51"><a href="ch6.html#cb62-51" tabindex="-1"></a><span class="do">## (Intercept) 146.797750   0.855035 171.686186  &lt; 2.2e-16 ***</span></span>
<span id="cb62-52"><a href="ch6.html#cb62-52" tabindex="-1"></a><span class="do">## agese_q2      0.217582   0.407771   0.533588 0.59446657    </span></span>
<span id="cb62-53"><a href="ch6.html#cb62-53" tabindex="-1"></a><span class="do">## agese_q3     -0.460085   0.424605  -1.083561 0.28040909    </span></span>
<span id="cb62-54"><a href="ch6.html#cb62-54" tabindex="-1"></a><span class="do">## agese_q4     -1.335729   0.402430  -3.319156 0.00114920 ** </span></span>
<span id="cb62-55"><a href="ch6.html#cb62-55" tabindex="-1"></a><span class="do">## comu_1        1.894279   0.681492   2.779603 0.00618556 ** </span></span>
<span id="cb62-56"><a href="ch6.html#cb62-56" tabindex="-1"></a><span class="do">## comu_2        1.439199   0.425750   3.380382 0.00093659 ***</span></span>
<span id="cb62-57"><a href="ch6.html#cb62-57" tabindex="-1"></a><span class="do">## comu_3        0.057919   0.703875   0.082286 0.93453617    </span></span>
<span id="cb62-58"><a href="ch6.html#cb62-58" tabindex="-1"></a><span class="do">## comu_4        0.766231   0.486405   1.575293 0.11743000    </span></span>
<span id="cb62-59"><a href="ch6.html#cb62-59" tabindex="-1"></a><span class="do">## ... 13 coefficients remaining (display them with summary() or use argument n)</span></span>
<span id="cb62-60"><a href="ch6.html#cb62-60" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb62-61"><a href="ch6.html#cb62-61" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb62-62"><a href="ch6.html#cb62-62" tabindex="-1"></a><span class="do">## RMSE: 9.4301   Adj. R2: 0.094451</span></span></code></pre></div>
<p>[参考] 上の処理では, <code>fixest</code>パッケージの高速さが感じられた.
参考までに, <code>microbenchmark</code>パッケージを用いたベンチマークによる比較を下に示す<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="ch6.html#cb63-1" tabindex="-1"></a><span class="co"># install.packages(&quot;microbenchmark&quot;)</span></span>
<span id="cb63-2"><a href="ch6.html#cb63-2" tabindex="-1"></a>mbm <span class="ot">&lt;-</span> microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(</span>
<span id="cb63-3"><a href="ch6.html#cb63-3" tabindex="-1"></a>    <span class="at">lm_robust =</span> <span class="fu">lm_robust</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4 <span class="sc">+</span> comu_1 <span class="sc">+</span> comu_2 <span class="sc">+</span> comu_3 <span class="sc">+</span> comu_4 <span class="sc">+</span> comu_5 <span class="sc">+</span> computer <span class="sc">+</span> numpeople <span class="sc">+</span> mothereduc_1 <span class="sc">+</span> mothereduc_2 <span class="sc">+</span> mothereduc_3 <span class="sc">+</span> mothereduc_4 <span class="sc">+</span> mothereduc_5 <span class="sc">+</span> fathereduc_1 <span class="sc">+</span> fathereduc_2 <span class="sc">+</span> fathereduc_3 <span class="sc">+</span> fathereduc_4 <span class="sc">+</span> fathereduc_5, <span class="at">clusters =</span> idschool, <span class="at">data =</span> timss, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>),</span>
<span id="cb63-4"><a href="ch6.html#cb63-4" tabindex="-1"></a>    <span class="at">fixest =</span> <span class="fu">feols</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4 <span class="sc">+</span> comu_1 <span class="sc">+</span> comu_2 <span class="sc">+</span> comu_3 <span class="sc">+</span> comu_4 <span class="sc">+</span> comu_5 <span class="sc">+</span> computer <span class="sc">+</span> numpeople <span class="sc">+</span> mothereduc_1 <span class="sc">+</span> mothereduc_2 <span class="sc">+</span> mothereduc_3 <span class="sc">+</span> mothereduc_4 <span class="sc">+</span> mothereduc_5 <span class="sc">+</span> fathereduc_1 <span class="sc">+</span> fathereduc_2 <span class="sc">+</span> fathereduc_3 <span class="sc">+</span> fathereduc_4 <span class="sc">+</span> fathereduc_5, <span class="at">cluster =</span> <span class="sc">~</span>idschool, <span class="at">data =</span> timss)</span>
<span id="cb63-5"><a href="ch6.html#cb63-5" tabindex="-1"></a>)</span>
<span id="cb63-6"><a href="ch6.html#cb63-6" tabindex="-1"></a></span>
<span id="cb63-7"><a href="ch6.html#cb63-7" tabindex="-1"></a><span class="fu">autoplot</span>(mbm)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>同様に, <code>idschool</code>を固定変数として推定を行う.
<code>feols()</code>では<code>factor(idschool)</code>を<code>formula</code>中に追加することで, Stataと同じ標準誤差が得られた.</li>
</ol>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="ch6.html#cb64-1" tabindex="-1"></a><span class="fu">lm_robust</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4 <span class="sc">+</span> comu_1 <span class="sc">+</span> comu_2 <span class="sc">+</span> comu_3 <span class="sc">+</span> comu_4 <span class="sc">+</span> comu_5 <span class="sc">+</span> computer <span class="sc">+</span> numpeople <span class="sc">+</span> mothereduc_1 <span class="sc">+</span> mothereduc_2 <span class="sc">+</span> mothereduc_3 <span class="sc">+</span> mothereduc_4 <span class="sc">+</span> mothereduc_5 <span class="sc">+</span> fathereduc_1 <span class="sc">+</span> fathereduc_2 <span class="sc">+</span> fathereduc_3 <span class="sc">+</span> fathereduc_4 <span class="sc">+</span> fathereduc_5, <span class="at">fixed_effects =</span> idschool, <span class="at">clusters =</span> idschool, <span class="at">data =</span> timss, <span class="at">se_type =</span> <span class="st">&quot;stata&quot;</span>)</span>
<span id="cb64-2"><a href="ch6.html#cb64-2" tabindex="-1"></a><span class="do">##                 Estimate Std. Error     t value     Pr(&gt;|t|)   CI Lower</span></span>
<span id="cb64-3"><a href="ch6.html#cb64-3" tabindex="-1"></a><span class="do">## agese_q2      0.13102743  0.4009247  0.32681307 7.442939e-01 -0.6615732</span></span>
<span id="cb64-4"><a href="ch6.html#cb64-4" tabindex="-1"></a><span class="do">## agese_q3     -0.47028802  0.4378613 -1.07405713 2.846317e-01 -1.3359098</span></span>
<span id="cb64-5"><a href="ch6.html#cb64-5" tabindex="-1"></a><span class="do">## agese_q4     -1.30272417  0.3965057 -3.28551158 1.284450e-03 -2.0865888</span></span>
<span id="cb64-6"><a href="ch6.html#cb64-6" tabindex="-1"></a><span class="do">## comu_1                NA         NA          NA           NA         NA</span></span>
<span id="cb64-7"><a href="ch6.html#cb64-7" tabindex="-1"></a><span class="do">## comu_2                NA         NA          NA           NA         NA</span></span>
<span id="cb64-8"><a href="ch6.html#cb64-8" tabindex="-1"></a><span class="do">## comu_3                NA         NA          NA           NA         NA</span></span>
<span id="cb64-9"><a href="ch6.html#cb64-9" tabindex="-1"></a><span class="do">## comu_4                NA         NA          NA           NA         NA</span></span>
<span id="cb64-10"><a href="ch6.html#cb64-10" tabindex="-1"></a><span class="do">## comu_5                NA         NA          NA           NA         NA</span></span>
<span id="cb64-11"><a href="ch6.html#cb64-11" tabindex="-1"></a><span class="do">## computer      2.24636387  0.4086659  5.49682209 1.759051e-07  1.4384593</span></span>
<span id="cb64-12"><a href="ch6.html#cb64-12" tabindex="-1"></a><span class="do">## numpeople    -0.15201323  0.1103651 -1.37736644 1.705815e-01 -0.3701975</span></span>
<span id="cb64-13"><a href="ch6.html#cb64-13" tabindex="-1"></a><span class="do">## mothereduc_1 -2.19861513  0.8822008 -2.49219362 1.385377e-02 -3.9426656</span></span>
<span id="cb64-14"><a href="ch6.html#cb64-14" tabindex="-1"></a><span class="do">## mothereduc_2  0.06124274  0.4413379  0.13876612 8.898330e-01 -0.8112520</span></span>
<span id="cb64-15"><a href="ch6.html#cb64-15" tabindex="-1"></a><span class="do">## mothereduc_3  1.77605577  0.4801400  3.69903765 3.093103e-04  0.8268520</span></span>
<span id="cb64-16"><a href="ch6.html#cb64-16" tabindex="-1"></a><span class="do">## mothereduc_4  1.90018375  0.5000938  3.79965506 2.148144e-04  0.9115327</span></span>
<span id="cb64-17"><a href="ch6.html#cb64-17" tabindex="-1"></a><span class="do">## mothereduc_5 -2.57015264  2.2191145 -1.15818837 2.487451e-01 -6.9571900</span></span>
<span id="cb64-18"><a href="ch6.html#cb64-18" tabindex="-1"></a><span class="do">## fathereduc_1 -2.31824085  0.8097549 -2.86289195 4.838822e-03 -3.9190708</span></span>
<span id="cb64-19"><a href="ch6.html#cb64-19" tabindex="-1"></a><span class="do">## fathereduc_2 -0.15378290  0.3934094 -0.39089784 6.964628e-01 -0.9315264</span></span>
<span id="cb64-20"><a href="ch6.html#cb64-20" tabindex="-1"></a><span class="do">## fathereduc_3 -0.01503236  0.6991735 -0.02150018 9.828771e-01 -1.3972505</span></span>
<span id="cb64-21"><a href="ch6.html#cb64-21" tabindex="-1"></a><span class="do">## fathereduc_4  2.60467908  0.4369355  5.96124430 1.911816e-08  1.7408876</span></span>
<span id="cb64-22"><a href="ch6.html#cb64-22" tabindex="-1"></a><span class="do">## fathereduc_5  4.50537704  0.9819114  4.58837427 9.781806e-06  2.5642055</span></span>
<span id="cb64-23"><a href="ch6.html#cb64-23" tabindex="-1"></a><span class="do">##                 CI Upper  DF</span></span>
<span id="cb64-24"><a href="ch6.html#cb64-24" tabindex="-1"></a><span class="do">## agese_q2      0.92362811 141</span></span>
<span id="cb64-25"><a href="ch6.html#cb64-25" tabindex="-1"></a><span class="do">## agese_q3      0.39533371 141</span></span>
<span id="cb64-26"><a href="ch6.html#cb64-26" tabindex="-1"></a><span class="do">## agese_q4     -0.51885951 141</span></span>
<span id="cb64-27"><a href="ch6.html#cb64-27" tabindex="-1"></a><span class="do">## comu_1                NA  NA</span></span>
<span id="cb64-28"><a href="ch6.html#cb64-28" tabindex="-1"></a><span class="do">## comu_2                NA  NA</span></span>
<span id="cb64-29"><a href="ch6.html#cb64-29" tabindex="-1"></a><span class="do">## comu_3                NA  NA</span></span>
<span id="cb64-30"><a href="ch6.html#cb64-30" tabindex="-1"></a><span class="do">## comu_4                NA  NA</span></span>
<span id="cb64-31"><a href="ch6.html#cb64-31" tabindex="-1"></a><span class="do">## comu_5                NA  NA</span></span>
<span id="cb64-32"><a href="ch6.html#cb64-32" tabindex="-1"></a><span class="do">## computer      3.05426840 141</span></span>
<span id="cb64-33"><a href="ch6.html#cb64-33" tabindex="-1"></a><span class="do">## numpeople     0.06617108 141</span></span>
<span id="cb64-34"><a href="ch6.html#cb64-34" tabindex="-1"></a><span class="do">## mothereduc_1 -0.45456465 141</span></span>
<span id="cb64-35"><a href="ch6.html#cb64-35" tabindex="-1"></a><span class="do">## mothereduc_2  0.93373748 141</span></span>
<span id="cb64-36"><a href="ch6.html#cb64-36" tabindex="-1"></a><span class="do">## mothereduc_3  2.72525957 141</span></span>
<span id="cb64-37"><a href="ch6.html#cb64-37" tabindex="-1"></a><span class="do">## mothereduc_4  2.88883483 141</span></span>
<span id="cb64-38"><a href="ch6.html#cb64-38" tabindex="-1"></a><span class="do">## mothereduc_5  1.81688474 141</span></span>
<span id="cb64-39"><a href="ch6.html#cb64-39" tabindex="-1"></a><span class="do">## fathereduc_1 -0.71741085 141</span></span>
<span id="cb64-40"><a href="ch6.html#cb64-40" tabindex="-1"></a><span class="do">## fathereduc_2  0.62396061 141</span></span>
<span id="cb64-41"><a href="ch6.html#cb64-41" tabindex="-1"></a><span class="do">## fathereduc_3  1.36718580 141</span></span>
<span id="cb64-42"><a href="ch6.html#cb64-42" tabindex="-1"></a><span class="do">## fathereduc_4  3.46847057 141</span></span>
<span id="cb64-43"><a href="ch6.html#cb64-43" tabindex="-1"></a><span class="do">## fathereduc_5  6.44654863 141</span></span>
<span id="cb64-44"><a href="ch6.html#cb64-44" tabindex="-1"></a><span class="fu">feols</span>(mathscore <span class="sc">~</span> agese_q2 <span class="sc">+</span> agese_q3 <span class="sc">+</span> agese_q4 <span class="sc">+</span> comu_1 <span class="sc">+</span> comu_2 <span class="sc">+</span> comu_3 <span class="sc">+</span> comu_4 <span class="sc">+</span> comu_5 <span class="sc">+</span> computer <span class="sc">+</span> numpeople <span class="sc">+</span> mothereduc_1 <span class="sc">+</span> mothereduc_2 <span class="sc">+</span> mothereduc_3 <span class="sc">+</span> mothereduc_4 <span class="sc">+</span> mothereduc_5 <span class="sc">+</span> fathereduc_1 <span class="sc">+</span> fathereduc_2 <span class="sc">+</span> fathereduc_3 <span class="sc">+</span> fathereduc_4 <span class="sc">+</span> fathereduc_5 <span class="sc">+</span> <span class="fu">factor</span>(idschool), <span class="at">cluster =</span> <span class="sc">~</span>idschool, <span class="at">data =</span> timss)</span>
<span id="cb64-45"><a href="ch6.html#cb64-45" tabindex="-1"></a><span class="do">## OLS estimation, Dep. Var.: mathscore</span></span>
<span id="cb64-46"><a href="ch6.html#cb64-46" tabindex="-1"></a><span class="do">## Observations: 4,536</span></span>
<span id="cb64-47"><a href="ch6.html#cb64-47" tabindex="-1"></a><span class="do">## Standard-errors: Clustered (idschool) </span></span>
<span id="cb64-48"><a href="ch6.html#cb64-48" tabindex="-1"></a><span class="do">##               Estimate Std. Error    t value   Pr(&gt;|t|)    </span></span>
<span id="cb64-49"><a href="ch6.html#cb64-49" tabindex="-1"></a><span class="do">## (Intercept) 146.269029   0.829988 176.230282  &lt; 2.2e-16 ***</span></span>
<span id="cb64-50"><a href="ch6.html#cb64-50" tabindex="-1"></a><span class="do">## agese_q2      0.131027   0.400925   0.326813 7.4429e-01    </span></span>
<span id="cb64-51"><a href="ch6.html#cb64-51" tabindex="-1"></a><span class="do">## agese_q3     -0.470288   0.437861  -1.074057 2.8463e-01    </span></span>
<span id="cb64-52"><a href="ch6.html#cb64-52" tabindex="-1"></a><span class="do">## agese_q4     -1.302724   0.396506  -3.285512 1.2844e-03 ** </span></span>
<span id="cb64-53"><a href="ch6.html#cb64-53" tabindex="-1"></a><span class="do">## comu_1        2.325141   0.320573   7.253087 2.4756e-11 ***</span></span>
<span id="cb64-54"><a href="ch6.html#cb64-54" tabindex="-1"></a><span class="do">## comu_2        6.840035   0.293296  23.321286  &lt; 2.2e-16 ***</span></span>
<span id="cb64-55"><a href="ch6.html#cb64-55" tabindex="-1"></a><span class="do">## comu_3       -3.958029   0.163114 -24.265472  &lt; 2.2e-16 ***</span></span>
<span id="cb64-56"><a href="ch6.html#cb64-56" tabindex="-1"></a><span class="do">## comu_4       -2.891447   0.215360 -13.426114  &lt; 2.2e-16 ***</span></span>
<span id="cb64-57"><a href="ch6.html#cb64-57" tabindex="-1"></a><span class="do">## ... 149 coefficients remaining (display them with summary() or use argument n)</span></span>
<span id="cb64-58"><a href="ch6.html#cb64-58" tabindex="-1"></a><span class="do">## ... 5 variables were removed because of collinearity (factor(idschool)119, factor(idschool)138 and 3 others [full set in $collin.var])</span></span>
<span id="cb64-59"><a href="ch6.html#cb64-59" tabindex="-1"></a><span class="do">## ---</span></span>
<span id="cb64-60"><a href="ch6.html#cb64-60" tabindex="-1"></a><span class="do">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb64-61"><a href="ch6.html#cb64-61" tabindex="-1"></a><span class="do">## RMSE: 8.86646   Adj. R2: 0.174603</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>練習問題5-15(a)と, (1)で求めたモデルを比較すると, 係数の大きさは同じである一方, 標準誤差については後者 (クラスター構造に頑健な標準誤差) のほうが大きくなった.
しかし, その差はそれほど大きくなく, 早生まれの人の成績が有意に低いという主張に変わりはなかった.
(2)にて学校効果をモデルに組み込むと, 早生まれの人を示すダミー変数の係数はわずかに小さくなったが, やはり有意性に変わりはなかった.
練習問題5-15(d)と, (3)で求めたモデルを比較すると, 標準誤差が後者のほうが小さくなったが, その差はさほど大きくはなく, 有意性に変わりはなかった.
(4)にて学校効果をモデルに組み込むと, やはりダミー変数の係数はわずかに小さくなった.</li>
</ol>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>次のブログ記事を参考にさせていただいた: <a href="https://keita43a.hatenablog.com/entry/2020/12/01/202122" class="uri">https://keita43a.hatenablog.com/entry/2020/12/01/202122</a>.<a href="ch6.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch5.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ch7.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/06.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
